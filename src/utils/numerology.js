/**
 * –ü–†–û–§–ï–°–°–ò–û–ù–ê–õ–¨–ù–ê–Ø –ù–£–ú–ï–†–û–õ–û–ì–ò–ß–ï–°–ö–ê–Ø –°–ò–°–¢–ï–ú–ê
 * –í–µ—Ä—Å–∏—è 2.0 ‚Äî –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç
 * –ò—Å—Ç–æ—á–Ω–∏–∫–∏: –ê.–§. –ê–ª–µ–∫—Å–∞–Ω–¥—Ä–æ–≤, –î—ç–≤–∏–¥ –§–∏–ª–ª–∏–ø—Å, –•–∞—Ä—Ä–∏—à –î–∂–æ—Ö–∞—Ä–∏
 */

// ==================== –ê–õ–§–ê–í–ò–¢ ====================

const cyrillicToNumber = {
    '–∞': 1, '–±': 2, '–≤': 3, '–≥': 4, '–¥': 5, '–µ': 6, '—ë': 7, '–∂': 8, '–∑': 9,
    '–∏': 1, '–π': 2, '–∫': 3, '–ª': 4, '–º': 5, '–Ω': 6, '–æ': 7, '–ø': 8, '—Ä': 9,
    '—Å': 1, '—Ç': 2, '—É': 3, '—Ñ': 4, '—Ö': 5, '—Ü': 6, '—á': 7, '—à': 8, '—â': 9,
    '—ä': 1, '—ã': 2, '—å': 3, '—ç': 4, '—é': 5, '—è': 6
};

const vowels = ['–∞', '–µ', '—ë', '–∏', '–æ', '—É', '—ã', '—ç', '—é', '—è'];
const consonants = ['–±', '–≤', '–≥', '–¥', '–∂', '–∑', '–π', '–∫', '–ª', '–º', '–Ω', '–ø', '—Ä', '—Å', '—Ç', '—Ñ', '—Ö', '—Ü', '—á', '—à', '—â'];

const reduceToSingle = (num) => {
    while (num > 9 && num !== 11 && num !== 22 && num !== 33) {
        num = num.toString().split('').reduce((a, b) => a + parseInt(b), 0);
    }
    return num;
};

const getLetterValue = (letter) => cyrillicToNumber[letter.toLowerCase()] || 0;

// ==================== –ë–ê–ó–û–í–´–ï –†–ê–°–ß–Å–¢–´ ====================

export const calculateLifePathNumber = (dateString) => {
    if (!dateString) return null;
    const digits = dateString.replace(/\D/g, '').split('').map(Number);
    let sum = digits.reduce((a, b) => a + b, 0);
    return reduceToSingle(sum);
};

/**
 * –ß–∏—Å–ª–æ –î–Ω—è –†–æ–∂–¥–µ–Ω–∏—è ‚Äî –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤—Ä–æ–∂–¥—ë–Ω–Ω—ã–µ —Ç–∞–ª–∞–Ω—Ç—ã
 */
export const calculateBirthdayNumber = (dateString) => {
    if (!dateString) return null;
    const [, , day] = dateString.split('-').map(Number);
    return reduceToSingle(day);
};

export const getBirthdayNumberMeaning = (num) => {
    const meanings = {
        1: { title: "–ü–µ—Ä–≤–æ–ø—Ä–æ—Ö–æ–¥–µ—Ü", desc: "–†–æ–∂–¥–µ–Ω—ã –±—ã—Ç—å –ª–∏–¥–µ—Ä–æ–º. –£ –≤–∞—Å –≤—Ä–æ–∂–¥—ë–Ω–Ω–∞—è —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å –Ω–∞—á–∏–Ω–∞—Ç—å –Ω–æ–≤–æ–µ –∏ –≤–µ—Å—Ç–∏ –∑–∞ —Å–æ–±–æ–π. –û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ—Å—Ç—å ‚Äî –≤–∞—à –∫–æ–∑—ã—Ä—å." },
        2: { title: "–ü–∞—Ä—Ç–Ω—ë—Ä", desc: "–¢–∞–ª–∞–Ω—Ç –∫ —Å–æ—Ç—Ä—É–¥–Ω–∏—á–µ—Å—Ç–≤—É. –í—ã —É–º–µ–µ—Ç–µ —á—É–≤—Å—Ç–≤–æ–≤–∞—Ç—å –¥—Ä—É–≥–∏—Ö –∏ —Å–æ–∑–¥–∞–≤–∞—Ç—å –≥–∞—Ä–º–æ–Ω–∏—é. –î–∏–ø–ª–æ–º–∞—Ç–∏—è ‚Äî –≤–∞—à–∞ —Å–∏–ª–∞." },
        3: { title: "–ê—Ä—Ç–∏—Å—Ç", desc: "–í—Ä–æ–∂–¥—ë–Ω–Ω—ã–π —Ç–∞–ª–∞–Ω—Ç —Å–∞–º–æ–≤—ã—Ä–∞–∂–µ–Ω–∏—è. –í—ã —Å–ø–æ—Å–æ–±–Ω—ã –≤–¥–æ—Ö–Ω–æ–≤–ª—è—Ç—å —Å–ª–æ–≤–æ–º, —Ç–≤–æ—Ä—á–µ—Å—Ç–≤–æ–º, —é–º–æ—Ä–æ–º." },
        4: { title: "–ü—Ä–∞–∫—Ç–∏–∫", desc: "–¢–∞–ª–∞–Ω—Ç —Å—Ç—Ä–æ–∏—Ç—å –∏ –æ—Ä–≥–∞–Ω–∏–∑–æ–≤—ã–≤–∞—Ç—å. –í—ã –Ω–∞–¥—ë–∂–Ω—ã –∏ –º–µ—Ç–æ–¥–∏—á–Ω—ã. –í–∞—à–∏ –ø—Ä–æ–µ–∫—Ç—ã —Å—Ç–æ—è—Ç –¥–æ–ª–≥–æ." },
        5: { title: "–ê–≤–∞–Ω—Ç—é—Ä–∏—Å—Ç", desc: "–í—Ä–æ–∂–¥—ë–Ω–Ω–∞—è –∞–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å –∏ –∂–∞–∂–¥–∞ –ø–µ—Ä–µ–º–µ–Ω. –í—ã –ª–µ–≥–∫–æ –æ—Å–≤–∞–∏–≤–∞–µ—Ç–µ –Ω–æ–≤–æ–µ –∏ –Ω–µ—Å—ë—Ç–µ –ø—Ä–æ–≥—Ä–µ—Å—Å." },
        6: { title: "–û–ø–µ–∫—É–Ω", desc: "–¢–∞–ª–∞–Ω—Ç –∑–∞–±–æ—Ç–∏—Ç—å—Å—è –∏ —Å–æ–∑–¥–∞–≤–∞—Ç—å –∫—Ä–∞—Å–æ—Ç—É. –í—ã ‚Äî –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—ã–π —Ü–µ–ª–∏—Ç–µ–ª—å –∏ —Ö—Ä–∞–Ω–∏—Ç–µ–ª—å –≥–∞—Ä–º–æ–Ω–∏–∏." },
        7: { title: "–ê–Ω–∞–ª–∏—Ç–∏–∫", desc: "–í—Ä–æ–∂–¥—ë–Ω–Ω–∞—è –≥–ª—É–±–∏–Ω–∞ –º—ã—à–ª–µ–Ω–∏—è. –í—ã —Å–ø–æ—Å–æ–±–Ω—ã –≤–∏–¥–µ—Ç—å —Ç–æ, —á—Ç–æ —Å–∫—Ä—ã—Ç–æ –æ—Ç –¥—Ä—É–≥–∏—Ö. –ò—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å –ø–æ –Ω–∞—Ç—É—Ä–µ." },
        8: { title: "–£–ø—Ä–∞–≤–ª–µ–Ω–µ—Ü", desc: "–¢–∞–ª–∞–Ω—Ç –∫ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è–º. –í—ã –ø–æ–Ω–∏–º–∞–µ—Ç–µ –∑–∞–∫–æ–Ω—ã –º–∞—Ç–µ—Ä–∏–∞–ª—å–Ω–æ–≥–æ –º–∏—Ä–∞ –∏ —É–º–µ–µ—Ç–µ –∏—Ö –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å." },
        9: { title: "–ú—É–¥—Ä–µ—Ü", desc: "–í—Ä–æ–∂–¥—ë–Ω–Ω–æ–µ —Å–æ—Å—Ç—Ä–∞–¥–∞–Ω–∏–µ –∏ —à–∏—Ä–æ—Ç–∞ –≤–∑–≥–ª—è–¥–æ–≤. –í—ã —Å–ø–æ—Å–æ–±–Ω—ã –≤–∏–¥–µ—Ç—å –∫–∞—Ä—Ç–∏–Ω—É —Ü–µ–ª–∏–∫–æ–º –∏ –ø–æ–º–æ–≥–∞—Ç—å –¥—Ä—É–≥–∏–º." },
        11: { title: "–ò–Ω—Ç—É–∏—Ç", desc: "–†–µ–¥–∫–∏–π –¥–∞—Ä —Å–≤–µ—Ä—Ö—á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏. –í—ã ‚Äî –∞–Ω—Ç–µ–Ω–Ω–∞ –¥–ª—è –≤—ã—Å—à–∏—Ö –≤–∏–±—Ä–∞—Ü–∏–π. –°–ø–æ—Å–æ–±–Ω—ã –≤–¥–æ—Ö–Ω–æ–≤–ª—è—Ç—å –º–∞—Å—Å—ã." },
        22: { title: "–ú–∞—Å—Ç–µ—Ä-—Å—Ç—Ä–æ–∏—Ç–µ–ª—å", desc: "–í—Ä–æ–∂–¥—ë–Ω–Ω–∞—è —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å –≤–æ–ø–ª–æ—â–∞—Ç—å –≥—Ä–∞–Ω–¥–∏–æ–∑–Ω—ã–µ –ø—Ä–æ–µ–∫—Ç—ã. –í—ã –¥—É–º–∞–µ—Ç–µ –º–∞—Å—à—Ç–∞–±–∞–º–∏ –ø–æ–∫–æ–ª–µ–Ω–∏–π." },
        33: { title: "–£—á–∏—Ç–µ–ª—å –¥—É—à", desc: "–†–µ–¥—á–∞–π—à–∏–π –¥–∞—Ä –±–µ–∑—É—Å–ª–æ–≤–Ω–æ–π –ª—é–±–≤–∏. –í—ã —Å–ø–æ—Å–æ–±–Ω—ã –∏—Å—Ü–µ–ª—è—Ç—å –æ–¥–Ω–∏–º –ø—Ä–∏—Å—É—Ç—Å—Ç–≤–∏–µ–º." }
    };
    return meanings[num] || { title: "–£–Ω–∏–∫–∞–ª—å–Ω—ã–π", desc: "–û—Å–æ–±–∞—è –∫–æ–º–±–∏–Ω–∞—Ü–∏—è —Ç—Ä–µ–±—É–µ—Ç –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞." };
};

export const calculatePsychomatrix = (dateString) => {
    if (!dateString) return {};

    const cleanDate = dateString.replace(/\D/g, '');
    const digits = cleanDate.split('').map(Number);
    const [year, month, day] = dateString.split('-').map(Number);

    const sumDigits = (n) => Math.abs(n).toString().split('').reduce((acc, curr) => acc + parseInt(curr), 0);

    const firstNum = cleanDate.split('').reduce((acc, curr) => acc + parseInt(curr), 0);
    const secondNum = sumDigits(firstNum);
    const dayStr = day.toString();
    const firstDayDigit = parseInt(dayStr[0]);
    const thirdNum = firstNum - (2 * firstDayDigit);
    const fourthNum = sumDigits(Math.abs(thirdNum));

    const allNumbers = [
        ...digits,
        ...firstNum.toString().split('').map(Number),
        ...secondNum.toString().split('').map(Number),
        ...Math.abs(thirdNum).toString().split('').map(Number),
        ...fourthNum.toString().split('').map(Number)
    ];

    const matrix = { 1: 0, 2: 0, 3: 0, 4: 0, 5: 0, 6: 0, 7: 0, 8: 0, 9: 0 };
    allNumbers.forEach(n => { if (n >= 1 && n <= 9) matrix[n]++; });

    return matrix;
};

// ==================== –ö–ê–†–ú–ò–ß–ï–°–ö–ò–ï –£–†–û–ö–ò ====================

/**
 * –ö–∞—Ä–º–∏—á–µ—Å–∫–∏–µ —É—Ä–æ–∫–∏ ‚Äî —á–∏—Å–ª–∞, –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–µ –≤ –ø–æ–ª–Ω–æ–º –∏–º–µ–Ω–∏
 * –ü–æ–∫–∞–∑—ã–≤–∞—é—Ç –∫–∞—á–µ—Å—Ç–≤–∞, –∫–æ—Ç–æ—Ä—ã–µ –Ω—É–∂–Ω–æ —Ä–∞–∑–≤–∏—Ç—å –≤ —ç—Ç–æ–π –∂–∏–∑–Ω–∏
 */
export const calculateKarmicLessons = (matrix) => {
    const lessons = [];
    for (let i = 1; i <= 9; i++) {
        if (matrix[i] === 0) {
            lessons.push(i);
        }
    }
    return lessons;
};

export const getKarmicLessonMeaning = (num) => {
    const meanings = {
        1: {
            lesson: "–£—Ä–æ–∫ –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏",
            desc: "–í–∞–º –ø—Ä–µ–¥—Å—Ç–æ–∏—Ç –Ω–∞—É—á–∏—Ç—å—Å—è –ø–æ–ª–∞–≥–∞—Ç—å—Å—è –Ω–∞ —Å–µ–±—è. –í –ø—Ä–æ—à–ª—ã—Ö –∂–∏–∑–Ω—è—Ö –≤—ã –º–æ–≥–ª–∏ –∏–∑–±–µ–≥–∞—Ç—å –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ –∑–∞ —Å–≤–æ—é —Å—É–¥—å–±—É. –¢–µ–ø–µ—Ä—å –≤–∞–∂–Ω–æ —Ä–∞–∑–≤–∏–≤–∞—Ç—å —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å –∏ –∏–Ω–∏—Ü–∏–∞—Ç–∏–≤–Ω–æ—Å—Ç—å.",
            how: "–ü—Ä–∏–Ω–∏–º–∞–π—Ç–µ —Ä–µ—à–µ–Ω–∏—è —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ. –ù–µ –∂–¥–∏—Ç–µ –æ–¥–æ–±—Ä–µ–Ω–∏—è. –ù–∞—á–∏–Ω–∞–π—Ç–µ –ø—Ä–æ–µ–∫—Ç—ã, –¥–∞–∂–µ –µ—Å–ª–∏ —Å—Ç—Ä–∞—à–Ω–æ."
        },
        2: {
            lesson: "–£—Ä–æ–∫ —Å–æ—Ç—Ä—É–¥–Ω–∏—á–µ—Å—Ç–≤–∞",
            desc: "–í—ã —É—á–∏—Ç–µ—Å—å —Ä–∞–±–æ—Ç–∞—Ç—å —Å –¥—Ä—É–≥–∏–º–∏. –í–æ–∑–º–æ–∂–Ω–æ, —Ä–∞–Ω—å—à–µ –≤—ã –±—ã–ª–∏ —Å–ª–∏—à–∫–æ–º –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã –∏–ª–∏ –∑–∞–º–∫–Ω—É—Ç—ã. –¢–µ–ø–µ—Ä—å –≤–∞–∂–Ω–æ —Ä–∞–∑–≤–∏–≤–∞—Ç—å —Ç–µ—Ä–ø–µ–Ω–∏–µ –∏ –¥–∏–ø–ª–æ–º–∞—Ç–∏—é.",
            how: "–°–ª—É—à–∞–π—Ç–µ –¥—Ä—É–≥–∏—Ö. –£—á–∏—Ç–µ—Å—å –∫–æ–º–ø—Ä–æ–º–∏—Å—Å—É. –†–∞–∑–≤–∏–≤–∞–π—Ç–µ —ç–º–ø–∞—Ç–∏—é."
        },
        3: {
            lesson: "–£—Ä–æ–∫ —Å–∞–º–æ–≤—ã—Ä–∞–∂–µ–Ω–∏—è",
            desc: "–í–∞–º –Ω—É–∂–Ω–æ –Ω–∞—É—á–∏—Ç—å—Å—è –≤—ã—Ä–∞–∂–∞—Ç—å —Å–µ–±—è. –í –ø—Ä–æ—à–ª–æ–º –≤—ã –º–æ–≥–ª–∏ –ø–æ–¥–∞–≤–ª—è—Ç—å —Ç–≤–æ—Ä—á–µ—Å—Ç–≤–æ –∏–ª–∏ –∏–∑–±–µ–≥–∞—Ç—å –ø—É–±–ª–∏—á–Ω–æ—Å—Ç–∏. –¢–µ–ø–µ—Ä—å –≤–∞–∂–Ω–æ –Ω–∞–π—Ç–∏ —Å–≤–æ–π –≥–æ–ª–æ—Å.",
            how: "–¢–≤–æ—Ä–∏—Ç–µ –±–µ–∑ —Å—Ç—Ä–∞—Ö–∞ –∫—Ä–∏—Ç–∏–∫–∏. –ì–æ–≤–æ—Ä–∏—Ç–µ —Ç–æ, —á—Ç–æ –¥—É–º–∞–µ—Ç–µ. –†–∞–∑–≤–∏–≤–∞–π—Ç–µ –∞—Ä—Ç–∏—Å—Ç–∏–∑–º."
        },
        4: {
            lesson: "–£—Ä–æ–∫ –¥–∏—Å—Ü–∏–ø–ª–∏–Ω—ã",
            desc: "–í—ã —É—á–∏—Ç–µ—Å—å —É–ø–æ—Ä–Ω–æ–º—É —Ç—Ä—É–¥—É –∏ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏. –†–∞–Ω—å—à–µ –º–æ–≥–ª–∏ –∏–∑–±–µ–≥–∞—Ç—å —Ä—É—Ç–∏–Ω—ã –∏–ª–∏ –±—Ä–æ—Å–∞—Ç—å –Ω–∞—á–∞—Ç–æ–µ. –¢–µ–ø–µ—Ä—å –≤–∞–∂–Ω–æ —Ä–∞–∑–≤–∏–≤–∞—Ç—å —É—Å–∏–¥—á–∏–≤–æ—Å—Ç—å.",
            how: "–î–æ–≤–æ–¥–∏—Ç–µ –¥–µ–ª–∞ –¥–æ –∫–æ–Ω—Ü–∞. –°–æ–∑–¥–∞–π—Ç–µ —á—ë—Ç–∫–∏–π —Ä–∞—Å–ø–æ—Ä—è–¥–æ–∫. –ù–µ –±–æ–π—Ç–µ—Å—å –∫—Ä–æ–ø–æ—Ç–ª–∏–≤–æ–π —Ä–∞–±–æ—Ç—ã."
        },
        5: {
            lesson: "–£—Ä–æ–∫ —Å–≤–æ–±–æ–¥—ã",
            desc: "–í–∞–º –ø—Ä–µ–¥—Å—Ç–æ–∏—Ç –Ω–∞—É—á–∏—Ç—å—Å—è –ø—Ä–∏–Ω–∏–º–∞—Ç—å –ø–µ—Ä–µ–º–µ–Ω—ã. –í–æ–∑–º–æ–∂–Ω–æ, –≤—ã —Ü–µ–ø–ª—è–µ—Ç–µ—Å—å –∑–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ –±–æ–∏—Ç–µ—Å—å —Ä–∏—Å–∫–æ–≤–∞—Ç—å. –¢–µ–ø–µ—Ä—å –≤–∞–∂–Ω–æ —Ä–∞–∑–≤–∏–≤–∞—Ç—å –≥–∏–±–∫–æ—Å—Ç—å.",
            how: "–í—ã—Ö–æ–¥–∏—Ç–µ –∏–∑ –∑–æ–Ω—ã –∫–æ–º—Ñ–æ—Ä—Ç–∞. –ü—É—Ç–µ—à–µ—Å—Ç–≤—É–π—Ç–µ. –≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ —Å –Ω–æ–≤—ã–º."
        },
        6: {
            lesson: "–£—Ä–æ–∫ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏",
            desc: "–í—ã —É—á–∏—Ç–µ—Å—å –∑–∞–±–æ—Ç–∏—Ç—å—Å—è –æ –¥—Ä—É–≥–∏—Ö. –í –ø—Ä–æ—à–ª–æ–º –º–æ–≥–ª–∏ –∏–∑–±–µ–≥–∞—Ç—å –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤ –∏–ª–∏ —Å–µ–º—å–∏. –¢–µ–ø–µ—Ä—å –≤–∞–∂–Ω–æ —Ä–∞–∑–≤–∏–≤–∞—Ç—å —á—É–≤—Å—Ç–≤–æ –¥–æ–ª–≥–∞.",
            how: "–ë–µ—Ä–∏—Ç–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å –∑–∞ –±–ª–∏–∑–∫–∏—Ö. –°–æ–∑–¥–∞–≤–∞–π—Ç–µ —É—é—Ç. –£—á–∏—Ç–µ—Å—å —Å–ª—É–∂–∏—Ç—å."
        },
        7: {
            lesson: "–£—Ä–æ–∫ –≤–µ—Ä—ã",
            desc: "–í–∞–º –ø—Ä–µ–¥—Å—Ç–æ–∏—Ç —Ä–∞–∑–≤–∏—Ç—å –¥—É—Ö–æ–≤–Ω–æ—Å—Ç—å –∏ –∏–Ω—Ç—É–∏—Ü–∏—é. –†–∞–Ω—å—à–µ –≤—ã –º–æ–≥–ª–∏ –±—ã—Ç—å —Å–ª–∏—à–∫–æ–º –º–∞—Ç–µ—Ä–∏–∞–ª–∏—Å—Ç–∏—á–Ω—ã –∏–ª–∏ —Å–∫–µ–ø—Ç–∏—á–Ω—ã. –¢–µ–ø–µ—Ä—å –≤–∞–∂–Ω–æ –¥–æ–≤–µ—Ä—è—Ç—å –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–º—É –≥–æ–ª–æ—Å—É.",
            how: "–ü—Ä–∞–∫—Ç–∏–∫—É–π—Ç–µ –º–µ–¥–∏—Ç–∞—Ü–∏—é. –ò–∑—É—á–∞–π—Ç–µ –≥–ª—É–±–æ–∫–∏–µ —Ç–µ–º—ã. –î–æ–≤–µ—Ä—è–π—Ç–µ –∏–Ω—Ç—É–∏—Ü–∏–∏."
        },
        8: {
            lesson: "–£—Ä–æ–∫ –≤–ª–∞—Å—Ç–∏",
            desc: "–í—ã —É—á–∏—Ç–µ—Å—å –æ–±—Ä–∞—â–∞—Ç—å—Å—è —Å —Å–∏–ª–æ–π –∏ —Ä–µ—Å—É—Ä—Å–∞–º–∏. –í –ø—Ä–æ—à–ª–æ–º –º–æ–≥–ª–∏ –∏–∑–±–µ–≥–∞—Ç—å –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ –∏–ª–∏ –±–æ—è—Ç—å—Å—è –¥–µ–Ω–µ–≥. –¢–µ–ø–µ—Ä—å –≤–∞–∂–Ω–æ —Ä–∞–∑–≤–∏–≤–∞—Ç—å –¥–µ–ª–æ–≤—ã–µ –∫–∞—á–µ—Å—Ç–≤–∞.",
            how: "–ù–µ –±–æ–π—Ç–µ—Å—å –∑–∞—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å. –£—á–∏—Ç–µ—Å—å —É–ø—Ä–∞–≤–ª—è—Ç—å. –†–∞–∑–≤–∏–≤–∞–π—Ç–µ —Ñ–∏–Ω–∞–Ω—Å–æ–≤—É—é –≥—Ä–∞–º–æ—Ç–Ω–æ—Å—Ç—å."
        },
        9: {
            lesson: "–£—Ä–æ–∫ –æ—Ç–ø—É—Å–∫–∞–Ω–∏—è",
            desc: "–í–∞–º –ø—Ä–µ–¥—Å—Ç–æ–∏—Ç –Ω–∞—É—á–∏—Ç—å—Å—è –æ—Ç–¥–∞–≤–∞—Ç—å –∏ –ø—Ä–æ—â–∞—Ç—å. –†–∞–Ω—å—à–µ –≤—ã –º–æ–≥–ª–∏ –±—ã—Ç—å –ø—Ä–∏–≤—è–∑–∞–Ω—ã –∫ –ª—é–¥—è–º –∏–ª–∏ –≤–µ—â–∞–º. –¢–µ–ø–µ—Ä—å –≤–∞–∂–Ω–æ —Ä–∞–∑–≤–∏–≤–∞—Ç—å —â–µ–¥—Ä–æ—Å—Ç—å –∏ –ø—Ä–∏–Ω—è—Ç–∏–µ.",
            how: "–ü—Ä–∞–∫—Ç–∏–∫—É–π—Ç–µ –±–ª–∞–≥–æ—Ç–≤–æ—Ä–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å. –ü—Ä–æ—â–∞–π—Ç–µ –æ–±–∏–¥—ã. –û—Ç–ø—É—Å–∫–∞–π—Ç–µ —Ç–æ, —á—Ç–æ –∏–∑–∂–∏–ª–æ —Å–µ–±—è."
        }
    };
    return meanings[num] || null;
};

// ==================== –ü–ò–ö–ò –ñ–ò–ó–ù–ò ====================

/**
 * –ß–µ—Ç—ã—Ä–µ –ü–∏–∫–∞ –ñ–∏–∑–Ω–∏ ‚Äî –∫–ª—é—á–µ–≤—ã–µ –ø–µ—Ä–∏–æ–¥—ã —Ä–∞–∑–≤–∏—Ç–∏—è
 */
export const calculateLifePinnacles = (dateString) => {
    if (!dateString) return [];

    const [year, month, day] = dateString.split('-').map(Number);
    const lifePath = calculateLifePathNumber(dateString);

    // –ü–µ—Ä–≤—ã–π –ø–∏–∫ –∑–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è: 36 - –ß–∏—Å–ª–æ –ñ–∏–∑–Ω–µ–Ω–Ω–æ–≥–æ –ü—É—Ç–∏
    const firstEnd = 36 - lifePath;

    const pinnacles = [
        {
            period: 1,
            ages: `0 - ${firstEnd}`,
            number: reduceToSingle(month + day),
            title: "–§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ"
        },
        {
            period: 2,
            ages: `${firstEnd + 1} - ${firstEnd + 9}`,
            number: reduceToSingle(day + year),
            title: "–†–∞–∑–≤–∏—Ç–∏–µ"
        },
        {
            period: 3,
            ages: `${firstEnd + 10} - ${firstEnd + 18}`,
            number: reduceToSingle(reduceToSingle(month + day) + reduceToSingle(day + year)),
            title: "–ó—Ä–µ–ª–æ—Å—Ç—å"
        },
        {
            period: 4,
            ages: `${firstEnd + 19}+`,
            number: reduceToSingle(month + year),
            title: "–ú—É–¥—Ä–æ—Å—Ç—å"
        }
    ];

    return pinnacles;
};

export const getPinnacleMeaning = (num) => {
    const meanings = {
        1: "–ü–µ—Ä–∏–æ–¥ —Ä–∞–∑–≤–∏—Ç–∏—è –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏ –ª–∏–¥–µ—Ä—Å–∫–∏—Ö –∫–∞—á–µ—Å—Ç–≤. –í—Ä–µ–º—è –ø—Ä–æ—è–≤–∏—Ç—å –∏–Ω–∏—Ü–∏–∞—Ç–∏–≤—É –∏ –≤—Å—Ç–∞—Ç—å –Ω–∞ –Ω–æ–≥–∏.",
        2: "–ü–µ—Ä–∏–æ–¥ –ø–∞—Ä—Ç–Ω—ë—Ä—Å—Ç–≤–∞ –∏ —Å–æ—Ç—Ä—É–¥–Ω–∏—á–µ—Å—Ç–≤–∞. –í–∞–∂–Ω—ã –æ—Ç–Ω–æ—à–µ–Ω–∏—è, —Ç–µ—Ä–ø–µ–Ω–∏–µ –∏ –¥–∏–ø–ª–æ–º–∞—Ç–∏—è.",
        3: "–ü–µ—Ä–∏–æ–¥ —Å–∞–º–æ–≤—ã—Ä–∞–∂–µ–Ω–∏—è –∏ —Ç–≤–æ—Ä—á–µ—Å—Ç–≤–∞. –í—Ä–µ–º—è —Ä–∞–∑–≤–∏–≤–∞—Ç—å —Ç–∞–ª–∞–Ω—Ç—ã –∏ –Ω–∞—Å–ª–∞–∂–¥–∞—Ç—å—Å—è –∂–∏–∑–Ω—å—é.",
        4: "–ü–µ—Ä–∏–æ–¥ —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–∞ –∏ —É–ø–æ—Ä–Ω–æ–≥–æ —Ç—Ä—É–¥–∞. –ó–∞–∫–ª–∞–¥—ã–≤–∞—é—Ç—Å—è –æ—Å–Ω–æ–≤—ã –±—É–¥—É—â–µ–≥–æ —É—Å–ø–µ—Ö–∞.",
        5: "–ü–µ—Ä–∏–æ–¥ –ø–µ—Ä–µ–º–µ–Ω –∏ —Å–≤–æ–±–æ–¥—ã. –ú–Ω–æ–≥–æ –¥–≤–∏–∂–µ–Ω–∏—è, –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏–π, –Ω–æ–≤—ã—Ö –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π.",
        6: "–ü–µ—Ä–∏–æ–¥ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ –∏ —Å–µ–º—å–∏. –§–æ–∫—É—Å –Ω–∞ –¥–æ–º–µ, –±–ª–∏–∑–∫–∏—Ö, —Å–æ–∑–¥–∞–Ω–∏–∏ –≥–∞—Ä–º–æ–Ω–∏–∏.",
        7: "–ü–µ—Ä–∏–æ–¥ —Å–∞–º–æ–ø–æ–∑–Ω–∞–Ω–∏—è –∏ –¥—É—Ö–æ–≤–Ω–æ–≥–æ —Ä–æ—Å—Ç–∞. –í—Ä–µ–º—è –¥–ª—è —É—á—ë–±—ã, –∞–Ω–∞–ª–∏–∑–∞, –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π —Ä–∞–±–æ—Ç—ã.",
        8: "–ü–µ—Ä–∏–æ–¥ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π –∏ –º–∞—Ç–µ—Ä–∏–∞–ª—å–Ω–æ–≥–æ —É—Å–ø–µ—Ö–∞. –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –¥–ª—è –∫–∞—Ä—å–µ—Ä—ã –∏ —Ñ–∏–Ω–∞–Ω—Å–æ–≤.",
        9: "–ü–µ—Ä–∏–æ–¥ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∏ —Å–ª—É–∂–µ–Ω–∏—è. –û—Ç–¥–∞—á–∞ –Ω–∞–∫–æ–ø–ª–µ–Ω–Ω–æ–≥–æ –æ–ø—ã—Ç–∞, –±–ª–∞–≥–æ—Ç–≤–æ—Ä–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å."
    };
    return meanings[num] || "–£–Ω–∏–∫–∞–ª—å–Ω—ã–π –ø–µ—Ä–∏–æ–¥ —Ä–∞–∑–≤–∏—Ç–∏—è.";
};

// ==================== –í–û–ó–†–ê–°–¢ –ü–ï–†–ï–•–û–î–ê ====================

export const calculateTransitionAges = (dateString) => {
    if (!dateString) return [];

    const [year] = dateString.split('-').map(Number);
    const lifePath = calculateLifePathNumber(dateString);

    // –ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–µ –≤–æ–∑—Ä–∞—Å—Ç—ã –ø–µ—Ä–µ—Ö–æ–¥–∞
    const ages = [
        { age: 27, title: "–ü–µ—Ä–≤—ã–π –°–∞—Ç—É—Ä–Ω", desc: "–í—Ä–µ–º—è –≤–∑—Ä–æ—Å–ª–µ–Ω–∏—è. –ü–µ—Ä–µ—Å–º–æ—Ç—Ä —é–Ω–æ—à–µ—Å–∫–∏—Ö –∏–ª–ª—é–∑–∏–π." },
        { age: 36 - lifePath, title: "–ö–æ–Ω–µ—Ü 1-–≥–æ –ü–∏–∫–∞", desc: "–ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ –ø–µ—Ä–∏–æ–¥–∞ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è –ª–∏—á–Ω–æ—Å—Ç–∏." },
        { age: 40, title: "–ö—Ä–∏–∑–∏—Å —Å–µ—Ä–µ–¥–∏–Ω—ã", desc: "–ü–µ—Ä–µ–æ—Ü–µ–Ω–∫–∞ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π. –ü–æ–∏—Å–∫ –Ω–æ–≤–æ–≥–æ —Å–º—ã—Å–ª–∞." },
        { age: 54, title: "–í—Ç–æ—Ä–æ–π –°–∞—Ç—É—Ä–Ω", desc: "–í—Ä–µ–º—è –º—É–¥—Ä–æ—Å—Ç–∏. –ü–µ—Ä–µ–¥–∞—á–∞ –æ–ø—ã—Ç–∞." },
    ];

    return ages;
};

// ==================== –ù–£–ú–ï–†–û–õ–û–ì–ò–Ø –ò–ú–ï–ù–ò ====================

export const calculateExpressionNumber = (fullName) => {
    if (!fullName) return null;
    const sum = fullName.toLowerCase().split('').reduce((acc, char) => acc + getLetterValue(char), 0);
    return reduceToSingle(sum);
};

export const calculateSoulUrgeNumber = (fullName) => {
    if (!fullName) return null;
    const sum = fullName.toLowerCase().split('').filter(char => vowels.includes(char)).reduce((acc, char) => acc + getLetterValue(char), 0);
    return reduceToSingle(sum);
};

export const calculatePersonalityNumber = (fullName) => {
    if (!fullName) return null;
    const sum = fullName.toLowerCase().split('').filter(char => consonants.includes(char)).reduce((acc, char) => acc + getLetterValue(char), 0);
    return reduceToSingle(sum);
};

export const getNameNumberMeaning = (type, number) => {
    const meanings = {
        expression: {
            1: { title: "–õ–∏–¥–µ—Ä-–Ω–æ–≤–∞—Ç–æ—Ä", desc: "–í–∞—à–µ –∏–º—è –Ω–µ—Å—ë—Ç –≤–∏–±—Ä–∞—Ü–∏—é –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏. –ü—Ä–∏–∑–≤–∞–Ω–∏–µ ‚Äî –∏–Ω–∏—Ü–∏–∏—Ä–æ–≤–∞—Ç—å –∏ –≤–µ—Å—Ç–∏." },
            2: { title: "–î–∏–ø–ª–æ–º–∞—Ç-–º–∏—Ä–æ—Ç–≤–æ—Ä–µ—Ü", desc: "–ò–º—è —Ä–µ–∑–æ–Ω–∏—Ä—É–µ—Ç —Å —ç–Ω–µ—Ä–≥–∏–µ–π —Å–æ—Ç—Ä—É–¥–Ω–∏—á–µ—Å—Ç–≤–∞. –¢–∞–ª–∞–Ω—Ç –æ–±—ä–µ–¥–∏–Ω—è—Ç—å." },
            3: { title: "–¢–≤–æ—Ä–µ—Ü-–≤–¥–æ—Ö–Ω–æ–≤–∏—Ç–µ–ª—å", desc: "–ò–º—è –Ω–µ—Å—ë—Ç –≤–∏–±—Ä–∞—Ü–∏—é —Å–∞–º–æ–≤—ã—Ä–∞–∂–µ–Ω–∏—è. –ü—Ä–∏–∑–≤–∞–Ω–∏–µ ‚Äî –≤–¥–æ—Ö–Ω–æ–≤–ª—è—Ç—å." },
            4: { title: "–ê—Ä—Ö–∏—Ç–µ–∫—Ç–æ—Ä –ø–æ—Ä—è–¥–∫–∞", desc: "–ò–º—è —Å–≤—è–∑–∞–Ω–æ —Å —Å–æ–∑–∏–¥–∞–Ω–∏–µ–º. –¢–∞–ª–∞–Ω—Ç ‚Äî —Å—Ç—Ä–æ–∏—Ç—å —Å–∏—Å—Ç–µ–º—ã." },
            5: { title: "–ü–æ—Å–ª–∞–Ω–Ω–∏–∫ –ø–µ—Ä–µ–º–µ–Ω", desc: "–ò–º—è –≤–∏–±—Ä–∏—Ä—É–µ—Ç –Ω–∞ —á–∞—Å—Ç–æ—Ç–µ —Å–≤–æ–±–æ–¥—ã. –í—ã –Ω–µ—Å—ë—Ç–µ –ø—Ä–æ–≥—Ä–µ—Å—Å." },
            6: { title: "–•—Ä–∞–Ω–∏—Ç–µ–ª—å –≥–∞—Ä–º–æ–Ω–∏–∏", desc: "–ò–º—è —Å–≤—è–∑–∞–Ω–æ —Å –∑–∞–±–æ—Ç–æ–π. –ü—Ä–∏–∑–≤–∞–Ω–∏–µ ‚Äî –∏—Å—Ü–µ–ª—è—Ç—å." },
            7: { title: "–ò—Å–∫–∞—Ç–µ–ª—å –∏—Å—Ç–∏–Ω—ã", desc: "–ò–º—è —Ä–µ–∑–æ–Ω–∏—Ä—É–µ—Ç —Å –≥–ª—É–±–∏–Ω–æ–π. –ü—É—Ç—å ‚Äî –∞–Ω–∞–ª–∏–∑ –∏ –º—É–¥—Ä–æ—Å—Ç—å." },
            8: { title: "–í–ª–∞—Å—Ç–µ–ª–∏–Ω –º–∞—Ç–µ—Ä–∏–∏", desc: "–ò–º—è –Ω–µ—Å—ë—Ç —ç–Ω–µ—Ä–≥–∏—é –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π. –¢–∞–ª–∞–Ω—Ç ‚Äî —É–ø—Ä–∞–≤–ª—è—Ç—å." },
            9: { title: "–ú—É–¥—Ä–µ—Ü-–≥—É–º–∞–Ω–∏—Å—Ç", desc: "–ò–º—è –≤–∏–±—Ä–∏—Ä—É–µ—Ç –Ω–∞ —á–∞—Å—Ç–æ—Ç–µ —Å–ª—É–∂–µ–Ω–∏—è. –ü—Ä–∏–∑–≤–∞–Ω–∏–µ ‚Äî –æ—Ç–¥–∞–≤–∞—Ç—å." },
            11: { title: "–ü—Ä–æ—Å–≤–µ—Ç–∏—Ç–µ–ª—å", desc: "–ú–∞—Å—Ç–µ—Ä-—á–∏—Å–ª–æ. –ò–º—è ‚Äî –∫–∞–Ω–∞–ª –¥–ª—è –≤—ã—Å—à–∏—Ö –∏–¥–µ–π." },
            22: { title: "–ú–∞—Å—Ç–µ—Ä-–∞—Ä—Ö–∏—Ç–µ–∫—Ç–æ—Ä", desc: "–†–µ–¥–∫–æ–µ —á–∏—Å–ª–æ. –°–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å –≤–æ–ø–ª–æ—â–∞—Ç—å –≥—Ä–∞–Ω–¥–∏–æ–∑–Ω–æ–µ." },
            33: { title: "–ú–∞—Å—Ç–µ—Ä-—Ü–µ–ª–∏—Ç–µ–ª—å", desc: "–í—ã—Å—à–µ–µ —á–∏—Å–ª–æ. –ß–∏—Å—Ç–æ–µ —Å–ª—É–∂–µ–Ω–∏–µ —á–µ—Ä–µ–∑ –ª—é–±–æ–≤—å." }
        },
        soulUrge: {
            1: { title: "–ñ–∞–∂–¥–∞ –ø–µ—Ä–≤–µ–Ω—Å—Ç–≤–∞", desc: "–í –¥—É—à–µ —Å—Ç—Ä–µ–º–∏—Ç–µ—Å—å –±—ã—Ç—å –ª–∏–¥–µ—Ä–æ–º –∏ –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–º." },
            2: { title: "–ñ–∞–∂–¥–∞ –µ–¥–∏–Ω–µ–Ω–∏—è", desc: "–î—É—à–∞ –∏—â–µ—Ç –≥–ª—É–±–æ–∫–æ–π —Å–≤—è–∑–∏ –∏ –ø–∞—Ä—Ç–Ω—ë—Ä—Å—Ç–≤–∞." },
            3: { title: "–ñ–∞–∂–¥–∞ —Å–∞–º–æ–≤—ã—Ä–∞–∂–µ–Ω–∏—è", desc: "–î—É—à–∞ —Å—Ç—Ä–µ–º–∏—Ç—Å—è —Ç–≤–æ—Ä–∏—Ç—å –∏ –±—ã—Ç—å —É—Å–ª—ã—à–∞–Ω–Ω–æ–π." },
            4: { title: "–ñ–∞–∂–¥–∞ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏", desc: "–í –≥–ª—É–±–∏–Ω–µ —Ö–æ—Ç–∏—Ç–µ –ø–æ—Ä—è–¥–∫–∞ –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏." },
            5: { title: "–ñ–∞–∂–¥–∞ —Å–≤–æ–±–æ–¥—ã", desc: "–î—É—à–∞ —Ä–≤—ë—Ç—Å—è –∫ –ø—Ä–∏–∫–ª—é—á–µ–Ω–∏—è–º –∏ –Ω–æ–≤–∏–∑–Ω–µ." },
            6: { title: "–ñ–∞–∂–¥–∞ –ª—é–±–≤–∏", desc: "–î—É—à–∞ —Å—Ç—Ä–µ–º–∏—Ç—Å—è –∑–∞–±–æ—Ç–∏—Ç—å—Å—è –∏ –±—ã—Ç—å –ª—é–±–∏–º–æ–π." },
            7: { title: "–ñ–∞–∂–¥–∞ –ø–æ–Ω–∏–º–∞–Ω–∏—è", desc: "–î—É—à–∞ –∏—â–µ—Ç –≥–ª—É–±–∏–Ω–Ω—ã–π —Å–º—ã—Å–ª –≤—Å–µ–≥–æ." },
            8: { title: "–ñ–∞–∂–¥–∞ –ø—Ä–∏–∑–Ω–∞–Ω–∏—è", desc: "–í –≥–ª—É–±–∏–Ω–µ —Ö–æ—Ç–∏—Ç–µ —É—Å–ø–µ—Ö–∞ –∏ —É–≤–∞–∂–µ–Ω–∏—è." },
            9: { title: "–ñ–∞–∂–¥–∞ —Å–ª—É–∂–µ–Ω–∏—è", desc: "–î—É—à–∞ —Å—Ç—Ä–µ–º–∏—Ç—Å—è –æ—Ç–¥–∞–≤–∞—Ç—å –∏ –ø–æ–º–æ–≥–∞—Ç—å." },
            11: { title: "–ñ–∞–∂–¥–∞ –ø—Ä–æ—Å–≤–µ—Ç–ª–µ–Ω–∏—è", desc: "–î—É—à–∞ –∏—â–µ—Ç –¥—É—Ö–æ–≤–Ω—ã—Ö –≤—ã—Å–æ—Ç." },
            22: { title: "–ñ–∞–∂–¥–∞ –≤–µ–ª–∏–∫–∏—Ö –¥–µ–ª", desc: "–î—É—à–∞ —Ö–æ—á–µ—Ç –æ—Å—Ç–∞–≤–∏—Ç—å –Ω–∞—Å–ª–µ–¥–∏–µ." },
            33: { title: "–ñ–∞–∂–¥–∞ –∏—Å—Ü–µ–ª–µ–Ω–∏—è –º–∏—Ä–∞", desc: "–î—É—à–∞ —Å—Ç—Ä–µ–º–∏—Ç—Å—è –∫ –≤—Å–µ–æ–±—â–µ–π –≥–∞—Ä–º–æ–Ω–∏–∏." }
        },
        personality: {
            1: { title: "–û–±—Ä–∞–∑ —É–≤–µ—Ä–µ–Ω–Ω–æ–≥–æ –ª–∏–¥–µ—Ä–∞", desc: "–í–∞—Å –≤–∏–¥—è—Ç –∫–∞–∫ —Å–∏–ª—å–Ω—É—é –ª–∏—á–Ω–æ—Å—Ç—å." },
            2: { title: "–û–±—Ä–∞–∑ –Ω–∞–¥—ë–∂–Ω–æ–≥–æ –¥—Ä—É–≥–∞", desc: "–í–∞—Å –≤–æ—Å–ø—Ä–∏–Ω–∏–º–∞—é—Ç –∫–∞–∫ –º—è–≥–∫–æ–≥–æ —á–µ–ª–æ–≤–µ–∫–∞." },
            3: { title: "–û–±—Ä–∞–∑ —è—Ä–∫–æ–π –ª–∏—á–Ω–æ—Å—Ç–∏", desc: "–í–∞—Å –≤–∏–¥—è—Ç –∫–∞–∫ –≤–µ—Å—ë–ª–æ–≥–æ —Ç–≤–æ—Ä—Ü–∞." },
            4: { title: "–û–±—Ä–∞–∑ –ø—Ä–∞–∫—Ç–∏–∫–∞", desc: "–í–∞—Å –≤–æ—Å–ø—Ä–∏–Ω–∏–º–∞—é—Ç –∫–∞–∫ —Å–µ—Ä—å—ë–∑–Ω–æ–≥–æ —á–µ–ª–æ–≤–µ–∫–∞." },
            5: { title: "–û–±—Ä–∞–∑ –∞–≤–∞–Ω—Ç—é—Ä–∏—Å—Ç–∞", desc: "–í–∞—Å –≤–∏–¥—è—Ç –∫–∞–∫ —ç–Ω–µ—Ä–≥–∏—á–Ω–æ–≥–æ —á–µ–ª–æ–≤–µ–∫–∞." },
            6: { title: "–û–±—Ä–∞–∑ –æ–ø–µ–∫—É–Ω–∞", desc: "–í–∞—Å –≤–æ—Å–ø—Ä–∏–Ω–∏–º–∞—é—Ç –∫–∞–∫ –∑–∞–±–æ—Ç–ª–∏–≤–æ–≥–æ." },
            7: { title: "–û–±—Ä–∞–∑ –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª–∞", desc: "–í–∞—Å –≤–∏–¥—è—Ç –∫–∞–∫ —É–º–Ω–æ–≥–æ –∏ –∑–∞–≥–∞–¥–æ—á–Ω–æ–≥–æ." },
            8: { title: "–û–±—Ä–∞–∑ —É—Å–ø–µ—à–Ω–æ–≥–æ —á–µ–ª–æ–≤–µ–∫–∞", desc: "–í–∞—Å –≤–æ—Å–ø—Ä–∏–Ω–∏–º–∞—é—Ç –∫–∞–∫ –≤–ª–∞—Å—Ç–Ω–æ–≥–æ." },
            9: { title: "–û–±—Ä–∞–∑ –º—É–¥—Ä–µ—Ü–∞", desc: "–í–∞—Å –≤–∏–¥—è—Ç –∫–∞–∫ –æ–ø—ã—Ç–Ω–æ–≥–æ —Å–æ–≤–µ—Ç—á–∏–∫–∞." },
            11: { title: "–û–±—Ä–∞–∑ –æ—Å–æ–±–µ–Ω–Ω–æ–≥–æ", desc: "–í–∞—Å –≤–æ—Å–ø—Ä–∏–Ω–∏–º–∞—é—Ç —Å –æ—Å–æ–±–æ–π –∞—É—Ä–æ–π." },
            22: { title: "–û–±—Ä–∞–∑ —á–µ–ª–æ–≤–µ–∫–∞ –º–∞—Å—à—Ç–∞–±–∞", desc: "–í –≤–∞—Å –≤–∏–¥—è—Ç –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª –¥–ª—è –≤–µ–ª–∏–∫–æ–≥–æ." },
            33: { title: "–û–±—Ä–∞–∑ —Å–≤—è—Ç–æ–≥–æ", desc: "–í–∞—Å –≤–æ—Å–ø—Ä–∏–Ω–∏–º–∞—é—Ç –∫–∞–∫ –∏—Å—Ç–æ—á–Ω–∏–∫ —Å–≤–µ—Ç–∞." }
        }
    };
    return meanings[type]?.[number] || { title: "–£–Ω–∏–∫–∞–ª—å–Ω–∞—è –≤–∏–±—Ä–∞—Ü–∏—è", desc: "–¢—Ä–µ–±—É–µ—Ç –∞–Ω–∞–ª–∏–∑–∞." };
};

// ==================== –ü–ï–†–°–û–ù–ê–õ–¨–ù–´–ï –¶–ò–ö–õ–´ ====================

export const calculatePersonalYear = (birthDate, currentYear) => {
    const [, month, day] = birthDate.split('-').map(Number);
    return reduceToSingle(day + month + currentYear);
};

export const calculatePersonalMonth = (birthDate, currentYear, currentMonth) => {
    const personalYear = calculatePersonalYear(birthDate, currentYear);
    return reduceToSingle(personalYear + currentMonth);
};

export const calculatePersonalDay = (birthDate, currentDate) => {
    const [currentYear, currentMonth, currentDay] = currentDate.split('-').map(Number);
    const personalMonth = calculatePersonalMonth(birthDate, currentYear, currentMonth);
    return reduceToSingle(personalMonth + currentDay);
};

export const getPersonalCycleMeaning = (number) => {
    const meanings = {
        1: {
            title: "–ù–æ–≤–æ–µ –Ω–∞—á–∞–ª–æ", energy: "üå±", color: "#FF6B6B",
            desc: "–≠–Ω–µ—Ä–≥–∏—è –∏–Ω–∏—Ü–∏–∞—Ç–∏–≤—ã –Ω–∞ –ø–∏–∫–µ. –í—Ä–µ–º—è —Å–µ—è—Ç—å —Å–µ–º–µ–Ω–∞ –±—É–¥—É—â–∏—Ö –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π.",
            advice: "–ù–∞—á–∏–Ω–∞–π—Ç–µ –Ω–æ–≤—ã–µ –ø—Ä–æ–µ–∫—Ç—ã. –ü—Ä–æ—è–≤–ª—è–π—Ç–µ —Å–º–µ–ª–æ—Å—Ç—å."
        },
        2: {
            title: "–°–æ—Ç—Ä—É–¥–Ω–∏—á–µ—Å—Ç–≤–æ", energy: "ü§ù", color: "#4ECDC4",
            desc: "–≠–Ω–µ—Ä–≥–∏—è –ø–∞—Ä—Ç–Ω—ë—Ä—Å—Ç–≤–∞. –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø—Ä–∏–¥—É—Ç —á–µ—Ä–µ–∑ —Ç–µ—Ä–ø–µ–Ω–∏–µ.",
            advice: "–†–∞–∑–≤–∏–≤–∞–π—Ç–µ –æ—Ç–Ω–æ—à–µ–Ω–∏—è. –°–ª—É—à–∞–π—Ç–µ –¥—Ä—É–≥–∏—Ö."
        },
        3: {
            title: "–°–∞–º–æ–≤—ã—Ä–∞–∂–µ–Ω–∏–µ", energy: "üé®", color: "#FFE66D",
            desc: "–≠–Ω–µ—Ä–≥–∏—è —Ç–≤–æ—Ä—á–µ—Å—Ç–≤–∞ –Ω–∞ –ø–∏–∫–µ. –í—Ä–µ–º—è –¥–ª—è —Å–æ—Ü–∏–∞–ª—å–Ω–æ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏.",
            advice: "–¢–≤–æ—Ä–∏—Ç–µ –∏ –æ–±—â–∞–π—Ç–µ—Å—å. –í—ã—Ä–∞–∂–∞–π—Ç–µ –∏–¥–µ–∏."
        },
        4: {
            title: "–°—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–æ", energy: "üèóÔ∏è", color: "#95E1D3",
            desc: "–í—Ä–µ–º—è —É–ø–æ—Ä–Ω–æ–≥–æ —Ç—Ä—É–¥–∞. –î–∏—Å—Ü–∏–ø–ª–∏–Ω–∞ –≤–∞–∂–Ω–µ–µ –≤–¥–æ—Ö–Ω–æ–≤–µ–Ω–∏—è.",
            advice: "–†–∞–±–æ—Ç–∞–π—Ç–µ —Å–∏—Å—Ç–µ–º–∞—Ç–∏—á–Ω–æ. –£–∫—Ä–µ–ø–ª—è–π—Ç–µ –æ—Å–Ω–æ–≤—ã."
        },
        5: {
            title: "–ü–µ—Ä–µ–º–µ–Ω—ã", energy: "üåÄ", color: "#DDA0DD",
            desc: "–≠–Ω–µ—Ä–≥–∏—è —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–∏. –ò–∑–º–µ–Ω–µ–Ω–∏—è –Ω–µ–∏–∑–±–µ–∂–Ω—ã.",
            advice: "–ü—Ä–∏–º–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω—ã. –≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ."
        },
        6: {
            title: "–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å", energy: "üè†", color: "#98D8C8",
            desc: "–§–æ–∫—É—Å –Ω–∞ —Å–µ–º—å–µ –∏ –±–ª–∏–∑–∫–∏—Ö. –í—Ä–µ–º—è –∑–∞–±–æ—Ç—ã.",
            advice: "–£–¥–µ–ª–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ –±–ª–∏–∑–∫–∏–º. –°–æ–∑–¥–∞–π—Ç–µ –≥–∞—Ä–º–æ–Ω–∏—é."
        },
        7: {
            title: "–°–∞–º–æ–ø–æ–∑–Ω–∞–Ω–∏–µ", energy: "üîÆ", color: "#7B68EE",
            desc: "–í—Ä–µ–º—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π —Ä–∞–±–æ—Ç—ã –∏ –¥—É—Ö–æ–≤–Ω–æ–≥–æ —Ä–æ—Å—Ç–∞.",
            advice: "–ó–∞–º–µ–¥–ª–∏—Ç–µ—Å—å. –ê–Ω–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ. –ú–µ–¥–∏—Ç–∏—Ä—É–π—Ç–µ."
        },
        8: {
            title: "–î–æ—Å—Ç–∏–∂–µ–Ω–∏—è", energy: "üëë", color: "#FFD700",
            desc: "–≠–Ω–µ—Ä–≥–∏—è –º–∞—Ç–µ—Ä–∏–∞–ª—å–Ω–æ–≥–æ —É—Å–ø–µ—Ö–∞. –í—Ä–µ–º—è –ø–æ–∂–∏–Ω–∞—Ç—å –ø–ª–æ–¥—ã.",
            advice: "–î–µ–π—Å—Ç–≤—É–π—Ç–µ –º–∞—Å—à—Ç–∞–±–Ω–æ. –ü—Ä–∏–Ω–∏–º–∞–π—Ç–µ —Ä–µ—à–µ–Ω–∏—è."
        },
        9: {
            title: "–ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ", energy: "üåô", color: "#C9B1FF",
            desc: "–í—Ä–µ–º—è –ø–æ–¥–≤–µ–¥–µ–Ω–∏—è –∏—Ç–æ–≥–æ–≤ –∏ –æ—Ç–ø—É—Å–∫–∞–Ω–∏—è —Å—Ç–∞—Ä–æ–≥–æ.",
            advice: "–ó–∞–≤–µ—Ä—à–∞–π—Ç–µ –¥–µ–ª–∞. –ü—Ä–æ—â–∞–π—Ç–µ. –û—á–∏—â–∞–π—Ç–µ."
        }
    };
    return meanings[number] || meanings[1];
};

// ==================== –°–ß–ê–°–¢–õ–ò–í–´–ï –≠–õ–ï–ú–ï–ù–¢–´ ====================

export const getLuckyElements = (lifePath) => {
    const elements = {
        1: { numbers: [1, 10, 19, 28], colors: ["–ö—Ä–∞—Å–Ω—ã–π", "–ó–æ–ª–æ—Ç–æ–π", "–û—Ä–∞–Ω–∂–µ–≤—ã–π"], days: ["–í–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ"], stones: ["–†—É–±–∏–Ω", "–ì—Ä–∞–Ω–∞—Ç"] },
        2: { numbers: [2, 11, 20, 29], colors: ["–ë–µ–ª—ã–π", "–ó–µ–ª—ë–Ω—ã–π", "–°–µ—Ä–µ–±—Ä—è–Ω—ã–π"], days: ["–ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫"], stones: ["–ñ–µ–º—á—É–≥", "–õ—É–Ω–Ω—ã–π –∫–∞–º–µ–Ω—å"] },
        3: { numbers: [3, 12, 21, 30], colors: ["–ñ—ë–ª—Ç—ã–π", "–û—Ä–∞–Ω–∂–µ–≤—ã–π", "–§–∏–æ–ª–µ—Ç–æ–≤—ã–π"], days: ["–ß–µ—Ç–≤–µ—Ä–≥"], stones: ["–ê–º–µ—Ç–∏—Å—Ç", "–¢–æ–ø–∞–∑"] },
        4: { numbers: [4, 13, 22, 31], colors: ["–°–∏–Ω–∏–π", "–°–µ—Ä—ã–π", "–ò–Ω–¥–∏–≥–æ"], days: ["–°—É–±–±–æ—Ç–∞"], stones: ["–°–∞–ø—Ñ–∏—Ä", "–ì–µ—Å—Å–æ–Ω–∏—Ç"] },
        5: { numbers: [5, 14, 23], colors: ["–ó–µ–ª—ë–Ω—ã–π", "–°–µ—Ä—ã–π", "–ë–∏—Ä—é–∑–æ–≤—ã–π"], days: ["–°—Ä–µ–¥–∞"], stones: ["–ò–∑—É–º—Ä—É–¥", "–ê–∫–≤–∞–º–∞—Ä–∏–Ω"] },
        6: { numbers: [6, 15, 24], colors: ["–ì–æ–ª—É–±–æ–π", "–†–æ–∑–æ–≤—ã–π", "–ü–∞—Å—Ç–µ–ª—å–Ω—ã–µ"], days: ["–ü—è—Ç–Ω–∏—Ü–∞"], stones: ["–ê–ª–º–∞–∑", "–ë–∏—Ä—é–∑–∞"] },
        7: { numbers: [7, 16, 25], colors: ["–§–∏–æ–ª–µ—Ç–æ–≤—ã–π", "–ó–µ–ª—ë–Ω—ã–π", "–ë–µ–ª—ã–π"], days: ["–ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫"], stones: ["–ö–æ—à–∞—á–∏–π –≥–ª–∞–∑", "–ê–º–µ—Ç–∏—Å—Ç"] },
        8: { numbers: [8, 17, 26], colors: ["–ß—ë—Ä–Ω—ã–π", "–¢—ë–º–Ω–æ-—Å–∏–Ω–∏–π", "–ü—É—Ä–ø—É—Ä–Ω—ã–π"], days: ["–°—É–±–±–æ—Ç–∞"], stones: ["–°–∏–Ω–∏–π —Å–∞–ø—Ñ–∏—Ä", "–û–Ω–∏–∫—Å"] },
        9: { numbers: [9, 18, 27], colors: ["–ö—Ä–∞—Å–Ω—ã–π", "–†–æ–∑–æ–≤—ã–π", "–ú–∞–ª–∏–Ω–æ–≤—ã–π"], days: ["–í—Ç–æ—Ä–Ω–∏–∫"], stones: ["–ö–æ—Ä–∞–ª–ª", "–†—É–±–∏–Ω"] }
    };
    return elements[lifePath] || elements[1];
};

// ==================== –õ–ò–ù–ò–ò –ü–°–ò–•–û–ú–ê–¢–†–ò–¶–´ ====================

export const calculateLines = (matrix) => ({
    rows: { purpose: matrix[1] + matrix[4] + matrix[7], family: matrix[2] + matrix[5] + matrix[8], stability: matrix[3] + matrix[6] + matrix[9] },
    columns: { selfEsteem: matrix[1] + matrix[2] + matrix[3], finance: matrix[4] + matrix[5] + matrix[6], talent: matrix[7] + matrix[8] + matrix[9] },
    diagonals: { temperament: matrix[3] + matrix[5] + matrix[7], spirituality: matrix[1] + matrix[5] + matrix[9] }
});

export const getLineMeaning = (lineType, value) => {
    const meanings = {
        purpose: {
            name: "–¶–µ–ª–µ—É—Å—Ç—Ä–µ–º–ª—ë–Ω–Ω–æ—Å—Ç—å", icon: "üéØ",
            levels: [
                { max: 2, title: "–ñ–∏–≤—ë—Ç –º–æ–º–µ–Ω—Ç–æ–º", desc: "–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –¥–æ–ª–≥–æ—Å—Ä–æ—á–Ω—ã—Ö —Ü–µ–ª–µ–π. –ü–ª—ã–≤—ë—Ç –ø–æ —Ç–µ—á–µ–Ω–∏—é." },
                { max: 4, title: "–ì–∏–±–∫–∞—è —Ü–µ–ª—å", desc: "–ï—Å—Ç—å –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ, –Ω–æ –ª–µ–≥–∫–æ –æ—Ç–≤–ª–µ–∫–∞–µ—Ç—Å—è." },
                { max: 6, title: "–¶–µ–ª–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–π", desc: "–ß—ë—Ç–∫–æ –≤–∏–¥–∏—Ç —Ü–µ–ª—å –∏ –¥–≤–∏–∂–µ—Ç—Å—è –∫ –Ω–µ–π." },
                { max: 99, title: "–û–¥–µ—Ä–∂–∏–º—ã–π", desc: "–ú–æ–∂–µ—Ç –∂–µ—Ä—Ç–≤–æ–≤–∞—Ç—å –≤—Å–µ–º —Ä–∞–¥–∏ —Ü–µ–ª–∏." }
            ]
        },
        family: {
            name: "–°–µ–º—å—è", icon: "üë®‚Äçüë©‚Äçüëß‚Äçüë¶",
            levels: [
                { max: 2, title: "–ù–µ–∑–∞–≤–∏—Å–∏–º—ã–π", desc: "–°–µ–º—å—è –Ω–µ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç." },
                { max: 4, title: "–°–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π", desc: "–¶–µ–Ω–∏—Ç —Å–µ–º—å—é, –Ω–æ –Ω–µ —Ä–∞—Å—Ç–≤–æ—Ä—è–µ—Ç—Å—è." },
                { max: 6, title: "–°–µ–º—å—è–Ω–∏–Ω", desc: "–°–µ–º—å—è ‚Äî —Ü–µ–Ω—Ç—Ä –∂–∏–∑–Ω–∏." },
                { max: 99, title: "–ì–∏–ø–µ—Ä–æ–ø–µ–∫—É–Ω", desc: "–ß—Ä–µ–∑–º–µ—Ä–Ω–∞—è –ø—Ä–∏–≤—è–∑–∞–Ω–Ω–æ—Å—Ç—å." }
            ]
        },
        stability: {
            name: "–°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å", icon: "‚öì",
            levels: [
                { max: 2, title: "–ì–∏–±–∫–∏–π", desc: "–õ–µ–≥–∫–æ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –ø–µ—Ä–µ–º–µ–Ω—ã." },
                { max: 4, title: "–ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π", desc: "–¶–µ–Ω–∏—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å, –Ω–æ –≥–∏–±–æ–∫." },
                { max: 6, title: "–ö–æ–Ω—Å–µ—Ä–≤–∞—Ç–æ—Ä", desc: "–ü—Ä–µ–¥–ø–æ—á–∏—Ç–∞–µ—Ç –ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω–æ–µ." },
                { max: 99, title: "–†–∏–≥–∏–¥–Ω—ã–π", desc: "–ü–µ—Ä–µ–º–µ–Ω—ã ‚Äî —É–≥—Ä–æ–∑–∞." }
            ]
        },
        selfEsteem: {
            name: "–°–∞–º–æ–æ—Ü–µ–Ω–∫–∞", icon: "‚≠ê",
            levels: [
                { max: 2, title: "–ó–∞–Ω–∏–∂–µ–Ω–Ω–∞—è", desc: "–ù–µ–¥–æ–æ—Ü–µ–Ω–∏–≤–∞–µ—Ç —Å–µ–±—è." },
                { max: 4, title: "–ó–¥–æ—Ä–æ–≤–∞—è", desc: "–†–µ–∞–ª–∏—Å—Ç–∏—á–Ω–∞—è –æ—Ü–µ–Ω–∫–∞." },
                { max: 6, title: "–í—ã—Å–æ–∫–∞—è", desc: "–£–≤–µ—Ä–µ–Ω –≤ —Å–µ–±–µ." },
                { max: 99, title: "–ó–∞–≤—ã—à–µ–Ω–Ω–∞—è", desc: "–ü–µ—Ä–µ–æ—Ü–µ–Ω–∏–≤–∞–µ—Ç —Å–µ–±—è." }
            ]
        },
        finance: {
            name: "–ú–∞—Ç–µ—Ä–∏–∞–ª—å–Ω–æ—Å—Ç—å", icon: "üí∞",
            levels: [
                { max: 2, title: "–ò–¥–µ–∞–ª–∏—Å—Ç", desc: "–î–µ–Ω—å–≥–∏ –Ω–µ –º–æ—Ç–∏–≤–∏—Ä—É—é—Ç." },
                { max: 4, title: "–ü—Ä–∞–∫—Ç–∏–∫", desc: "–ó–¥–æ—Ä–æ–≤–æ–µ –æ—Ç–Ω–æ—à–µ–Ω–∏–µ –∫ –¥–µ–Ω—å–≥–∞–º." },
                { max: 6, title: "–ú–∞—Ç–µ—Ä–∏–∞–ª–∏—Å—Ç", desc: "–§–æ–∫—É—Å –Ω–∞ –±–ª–∞–≥–æ–ø–æ–ª—É—á–∏–∏." },
                { max: 99, title: "–ù–∞–∫–æ–ø–∏—Ç–µ–ª—å", desc: "–ß—Ä–µ–∑–º–µ—Ä–Ω–∞—è –ø—Ä–∏–≤—è–∑–∞–Ω–Ω–æ—Å—Ç—å." }
            ]
        },
        talent: {
            name: "–¢–∞–ª–∞–Ω—Ç", icon: "‚ú®",
            levels: [
                { max: 2, title: "–ü–æ—Ç–µ–Ω—Ü–∏–∞–ª", desc: "–¢–∞–ª–∞–Ω—Ç—ã —Å–∫—Ä—ã—Ç—ã." },
                { max: 4, title: "–°–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏", desc: "–ï—Å—Ç—å —è–≤–Ω—ã–µ —Ç–∞–ª–∞–Ω—Ç—ã." },
                { max: 6, title: "–û–¥–∞—Ä—ë–Ω–Ω–æ—Å—Ç—å", desc: "–í—ã—Ä–∞–∂–µ–Ω–Ω—ã–µ —Ç–∞–ª–∞–Ω—Ç—ã." },
                { max: 99, title: "–ú–Ω–æ–≥–æ–≥—Ä–∞–Ω–Ω–æ—Å—Ç—å", desc: "–ú–Ω–æ–∂–µ—Å—Ç–≤–æ —Ç–∞–ª–∞–Ω—Ç–æ–≤." }
            ]
        },
        temperament: {
            name: "–¢–µ–º–ø–µ—Ä–∞–º–µ–Ω—Ç", icon: "üî•",
            levels: [
                { max: 2, title: "–§–ª–µ–≥–º–∞—Ç–∏–∫", desc: "–°–ø–æ–∫–æ–µ–Ω, —Ä–∞—Ü–∏–æ–Ω–∞–ª–µ–Ω." },
                { max: 4, title: "–°–∞–Ω–≥–≤–∏–Ω–∏–∫", desc: "–≠–º–æ—Ü–∏–∏ –ø–æ–¥ –∫–æ–Ω—Ç—Ä–æ–ª–µ–º." },
                { max: 6, title: "–•–æ–ª–µ—Ä–∏–∫", desc: "–≠–º–æ—Ü–∏–æ–Ω–∞–ª–µ–Ω, —Å—Ç—Ä–∞—Å—Ç–µ–Ω." },
                { max: 99, title: "–í–∑—Ä—ã–≤–Ω–æ–π", desc: "–≠–º–æ—Ü–∏–∏ —É–ø—Ä–∞–≤–ª—è—é—Ç." }
            ]
        },
        spirituality: {
            name: "–î—É—Ö–æ–≤–Ω–æ—Å—Ç—å", icon: "üôè",
            levels: [
                { max: 2, title: "–ú–∞—Ç–µ—Ä–∏–∞–ª–∏—Å—Ç", desc: "–§–æ–∫—É—Å –Ω–∞ —Ñ–∏–∑–∏—á–µ—Å–∫–æ–º." },
                { max: 4, title: "–ò—â—É—â–∏–π", desc: "–ò–Ω—Ç–µ—Ä–µ—Å –∫ –≥–ª—É–±–∏–Ω–Ω–æ–º—É." },
                { max: 6, title: "–î—É—Ö–æ–≤–Ω—ã–π", desc: "–†–∞–∑–≤–∏—Ç–∞—è –∏–Ω—Ç—É–∏—Ü–∏—è." },
                { max: 99, title: "–ú–∏—Å—Ç–∏–∫", desc: "–ì–ª—É–±–æ–∫–∞—è —Å–≤—è–∑—å." }
            ]
        }
    };
    const line = meanings[lineType];
    if (!line) return null;
    const level = line.levels.find(l => value <= l.max);
    return { name: line.name, icon: line.icon, value, ...level };
};

// ==================== –Ø–ß–ï–ô–ö–ò –ü–°–ò–•–û–ú–ê–¢–†–ò–¶–´ ====================

export const getCellInfo = (num) => {
    const info = {
        1: { label: "–•–∞—Ä–∞–∫—Ç–µ—Ä", desc: "–°–∏–ª–∞ –≤–æ–ª–∏" },
        2: { label: "–≠–Ω–µ—Ä–≥–∏—è", desc: "–ñ–∏–∑–Ω–µ–Ω–Ω–∞—è —Å–∏–ª–∞" },
        3: { label: "–ò–Ω—Ç–µ—Ä–µ—Å", desc: "–ü–æ–∑–Ω–∞–Ω–∏–µ" },
        4: { label: "–ó–¥–æ—Ä–æ–≤—å–µ", desc: "–¢–µ–ª–æ" },
        5: { label: "–õ–æ–≥–∏–∫–∞", desc: "–ê–Ω–∞–ª–∏–∑" },
        6: { label: "–¢—Ä—É–¥", desc: "–ú–∞—Å—Ç–µ—Ä—Å—Ç–≤–æ" },
        7: { label: "–£–¥–∞—á–∞", desc: "–í–µ–∑–µ–Ω–∏–µ" },
        8: { label: "–î–æ–ª–≥", desc: "–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å" },
        9: { label: "–ü–∞–º—è—Ç—å", desc: "–£–º" }
    };
    return info[num] || { label: "?", desc: "" };
};

export const getCellDetailedMeaning = (num, count) => {
    const meanings = {
        1: {
            label: "–•–∞—Ä–∞–∫—Ç–µ—Ä", interpretations: [
                { count: 0, title: "–ë–µ–∑–≤–æ–ª—å–Ω—ã–π", text: "–°–ª–æ–∂–Ω–æ –ø—Ä–æ—è–≤–ª—è—Ç—å –∏–Ω–∏—Ü–∏–∞—Ç–∏–≤—É. –¢—Ä–µ–±—É–µ—Ç—Å—è —Ä–∞–±–æ—Ç–∞ –Ω–∞–¥ —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å—é." },
                { count: 1, title: "–ú—è–≥–∫–∏–π —Ö–∞—Ä–∞–∫—Ç–µ—Ä", text: "–ò–∑–±–µ–≥–∞–µ—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤. –£–º–µ–µ—Ç –Ω–∞—Ö–æ–¥–∏—Ç—å –∫–æ–º–ø—Ä–æ–º–∏—Å—Å—ã." },
                { count: 2, title: "–ù–æ—Ä–º–∞", text: "–ó–¥–æ—Ä–æ–≤—ã–π –±–∞–ª–∞–Ω—Å —Å–∏–ª—ã –≤–æ–ª–∏. –°–ø–æ—Å–æ–±–µ–Ω –æ—Ç—Å—Ç–∞–∏–≤–∞—Ç—å –∏–Ω—Ç–µ—Ä–µ—Å—ã." },
                { count: 3, title: "–°–∏–ª—å–Ω—ã–π —Ö–∞—Ä–∞–∫—Ç–µ—Ä", text: "–í—ã—Ä–∞–∂–µ–Ω–Ω–∞—è –≤–æ–ª—è. –ó–Ω–∞–µ—Ç, —á–µ–≥–æ —Ö–æ—á–µ—Ç." },
                { count: 4, title: "–í–ª–∞—Å—Ç–Ω—ã–π", text: "–û—á–µ–Ω—å —Å–∏–ª—å–Ω–∞—è –≤–æ–ª—è. –ü—Ä–∏—Ä–æ–¥–Ω—ã–π —Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—å." },
                { count: 5, title: "–î–µ—Å–ø–æ—Ç–∏—á–Ω—ã–π", text: "–°–ª–æ–∂–Ω–æ —Å–ª—ã—à–∞—Ç—å –¥—Ä—É–≥–∏—Ö. –ù—É–∂–Ω–∞ —Ä–∞–±–æ—Ç–∞ –Ω–∞–¥ —ç–º–ø–∞—Ç–∏–µ–π." },
                { count: 6, title: "–ü–µ—Ä–µ–≥—Ä—É–∑–∫–∞", text: "–ò–∑–±—ã—Ç–æ–∫ —ç–Ω–µ—Ä–≥–∏–∏. –ù—É–∂–µ–Ω –≤—ã—Ö–æ–¥ ‚Äî —Å–ø–æ—Ä—Ç, —Ç–≤–æ—Ä—á–µ—Å—Ç–≤–æ." }
            ]
        },
        2: {
            label: "–≠–Ω–µ—Ä–≥–∏—è", interpretations: [
                { count: 0, title: "–î–µ—Ñ–∏—Ü–∏—Ç", text: "–ù–µ—Ö–≤–∞—Ç–∫–∞ —Å–∏–ª. –í–∞–∂–Ω–æ –≤–æ—Å–ø–æ–ª–Ω—è—Ç—å —Ä–µ—Å—É—Ä—Å." },
                { count: 1, title: "–≠–∫–æ–Ω–æ–º–Ω—ã–π —Ä–µ–∂–∏–º", text: "–≠–Ω–µ—Ä–≥–∏–∏ –Ω–µ–º–Ω–æ–≥–æ ‚Äî –≤–∞–∂–Ω–æ –±–µ—Ä–µ—á—å." },
                { count: 2, title: "–ù–æ—Ä–º–∞", text: "–î–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–ª—è –∞–∫—Ç–∏–≤–Ω–æ–π –∂–∏–∑–Ω–∏." },
                { count: 3, title: "–≠–Ω–µ—Ä–≥–∏—á–Ω—ã–π", text: "–í—ã—Å–æ–∫–∏–π —É—Ä–æ–≤–µ–Ω—å. –ú–æ–∂–µ—Ç –∑–∞—Ä—è–∂–∞—Ç—å –¥—Ä—É–≥–∏—Ö." },
                { count: 4, title: "–ú–æ—â–Ω–∞—è —ç–Ω–µ—Ä–≥–µ—Ç–∏–∫–∞", text: "–û—á–µ–Ω—å —Å–∏–ª—å–Ω–æ–µ –±–∏–æ–ø–æ–ª–µ." },
                { count: 5, title: "–ò–∑–±—ã—Ç–æ–∫", text: "–¢—Ä–µ–±—É–µ—Ç –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–≥–æ –≤—ã—Ö–æ–¥–∞." }
            ]
        },
        3: {
            label: "–ü–æ–∑–Ω–∞–Ω–∏–µ", interpretations: [
                { count: 0, title: "–ì—É–º–∞–Ω–∏—Ç–∞—Ä–∏–π", text: "–ë–ª–∏–∂–µ –∏—Å–∫—É—Å—Å—Ç–≤–æ –∏ —Ñ–∏–ª–æ—Å–æ—Ñ–∏—è." },
                { count: 1, title: "–†–∞–∑–Ω–æ—Å—Ç–æ—Ä–æ–Ω–Ω–∏–π", text: "–ò–Ω—Ç–µ—Ä–µ—Å—ã —à–∏—Ä–æ–∫–∏." },
                { count: 2, title: "–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π —Å–∫–ª–∞–¥", text: "–°–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ –∫ —Ç–æ—á–Ω—ã–º –Ω–∞—É–∫–∞–º." },
                { count: 3, title: "–ò—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å", text: "–¢—è–≥–∞ –∫ –≥–ª—É–±–æ–∫–æ–º—É –∏–∑—É—á–µ–Ω–∏—é." }
            ]
        },
        4: {
            label: "–ó–¥–æ—Ä–æ–≤—å–µ", interpretations: [
                { count: 0, title: "–°–ª–∞–±—ã–π –∑–∞–ø–∞—Å", text: "–¢—Ä–µ–±—É–µ—Ç—Å—è –±–µ—Ä–µ–∂–Ω–æ–µ –æ—Ç–Ω–æ—à–µ–Ω–∏–µ." },
                { count: 1, title: "–°—Ä–µ–¥–Ω–µ–µ", text: "–ù—É–∂–Ω–æ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å." },
                { count: 2, title: "–ö—Ä–µ–ø–∫–æ–µ", text: "–•–æ—Ä–æ—à–∏–π –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª." },
                { count: 3, title: "–°–∏–ª—å–Ω–æ–µ", text: "–ü—Ä–∏—Ä–æ–¥–Ω–∞—è —Å–∏–ª–∞." }
            ]
        },
        5: {
            label: "–õ–æ–≥–∏–∫–∞", interpretations: [
                { count: 0, title: "–ò–Ω—Ç—É–∏—Ç", text: "–†–µ—à–µ–Ω–∏—è —á—É—Ç—å—ë–º." },
                { count: 1, title: "–†–∞–∑–≤–∏–≤–∞—é—â–∞—è—Å—è", text: "–¢—Ä–µ–±—É–µ—Ç —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏." },
                { count: 2, title: "–†–∞–∑–≤–∏—Ç–∞—è", text: "–•–æ—Ä–æ—à –≤ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–∏." },
                { count: 3, title: "–ê–Ω–∞–ª–∏—Ç–∏–∫", text: "–°–∏–ª—å–Ω—ã–µ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏." }
            ]
        },
        6: {
            label: "–¢—Ä—É–¥", interpretations: [
                { count: 0, title: "–ú—ã—Å–ª–∏—Ç–µ–ª—å", text: "–°–æ–∑–¥–∞–Ω –¥–ª—è —É–º—Å—Ç–≤–µ–Ω–Ω–æ–π —Ä–∞–±–æ—Ç—ã." },
                { count: 1, title: "–ü–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏", text: "–ú–æ–∂–µ—Ç, –Ω–æ –Ω–µ –ª—é–±–∏—Ç." },
                { count: 2, title: "–ú–∞—Å—Ç–µ—Ä", text: "–ó–æ–ª–æ—Ç—ã–µ —Ä—É–∫–∏." },
                { count: 3, title: "–¢—Ä—É–¥–æ–≥–æ–ª–∏–∫", text: "–¢—Ä—É–¥ ‚Äî —Å–∞–º–æ–≤—ã—Ä–∞–∂–µ–Ω–∏–µ." }
            ]
        },
        7: {
            label: "–£–¥–∞—á–∞", interpretations: [
                { count: 0, title: "–°–∞–º–æ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω—ã–π", text: "–í—Å—ë —Å–≤–æ–∏–º–∏ —Å–∏–ª–∞–º–∏." },
                { count: 1, title: "–ò–∑—Ä–µ–¥–∫–∞ –≤–µ–∑—ë—Ç", text: "–ò–Ω–æ–≥–¥–∞ —É–¥–∞—á–∞ —É–ª—ã–±–∞–µ—Ç—Å—è." },
                { count: 2, title: "–í–µ–∑—É–Ω—á–∏–∫", text: "–£–¥–∞—á–∞ –±–ª–∞–≥–æ—Å–∫–ª–æ–Ω–Ω–∞." },
                { count: 3, title: "–ü–æ–¥ –∑–∞—â–∏—Ç–æ–π", text: "–°–∏–ª—å–Ω—ã–π –∞–Ω–≥–µ–ª-—Ö—Ä–∞–Ω–∏—Ç–µ–ª—å." }
            ]
        },
        8: {
            label: "–î–æ–ª–≥", interpretations: [
                { count: 0, title: "–°–≤–æ–±–æ–¥–Ω—ã–π", text: "–ñ–∏–≤—ë—Ç –¥–ª—è —Å–µ–±—è." },
                { count: 1, title: "–í—ã–±–æ—Ä–æ—á–Ω—ã–π", text: "–ù–µ –≤—Å–µ–≥–¥–∞ —Å–ª–µ–¥—É–µ—Ç." },
                { count: 2, title: "–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π", text: "–ù–∞–¥—ë–∂–Ω—ã–π —á–µ–ª–æ–≤–µ–∫." },
                { count: 3, title: "–ì–∏–ø–µ—Ä–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π", text: "–†–∏—Å–∫ –≤—ã–≥–æ—Ä–∞–Ω–∏—è." }
            ]
        },
        9: {
            label: "–ü–∞–º—è—Ç—å", interpretations: [
                { count: 0, title: "–¢—Ä–µ–±—É–µ—Ç —Ä–∞–∑–≤–∏—Ç–∏—è", text: "–§–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å –ø–∏—Å—å–º–µ–Ω–Ω–æ." },
                { count: 1, title: "–°—Ä–µ–¥–Ω—è—è", text: "–ú–æ–∂–Ω–æ —Ä–∞–∑–≤–∏—Ç—å." },
                { count: 2, title: "–•–æ—Ä–æ—à–∞—è", text: "–õ–µ–≥–∫–æ —É—Å–≤–∞–∏–≤–∞–µ—Ç." },
                { count: 3, title: "–í—ã–¥–∞—é—â–∞—è—Å—è", text: "–ü–æ–º–Ω–∏—Ç –≤—Å—ë." }
            ]
        }
    };
    const cell = meanings[num];
    if (!cell) return null;
    const idx = Math.min(count, cell.interpretations.length - 1);
    const interpretation = cell.interpretations[idx] || cell.interpretations[cell.interpretations.length - 1];
    return { label: cell.label, count, ...interpretation };
};

// ==================== –ì–†–ê–§–ò–ö –°–£–î–¨–ë–´ ====================

export const calculateDestinyGraph = (dateString) => {
    if (!dateString) return [];
    const [year, month, day] = dateString.split('-').map(Number);
    const destinyCode = (day * month * year).toString().padStart(7, '0');
    const yearFirst = Math.floor(year / 100);
    const yearLast = year % 100 || 1;
    const willCode = (day * month * yearFirst * yearLast).toString().padStart(7, '0');

    return Array.from({ length: 7 }, (_, i) => ({
        year: year + i * 12,
        age: i * 12,
        destiny: parseInt(destinyCode[i]) || 0,
        will: parseInt(willCode[i]) || 0
    }));
};

// ==================== –ñ–ò–ó–ù–ï–ù–ù–´–ô –ü–£–¢–¨ ====================

export const getLifePathMeaning = (number) => {
    const meanings = {
        1: "–õ–∏–¥–µ—Ä. –ù–µ–∑–∞–≤–∏—Å–∏–º—ã–π –ø–µ—Ä–≤–æ–ø—Ä–æ—Ö–æ–¥–µ—Ü. –ú–∏—Å—Å–∏—è ‚Äî –ø—Ä–æ—è–≤–∏—Ç—å –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ—Å—Ç—å.",
        2: "–î–∏–ø–ª–æ–º–∞—Ç. –ß—É—Ç–∫–∏–π –º–∏—Ä–æ—Ç–≤–æ—Ä–µ—Ü. –ú–∏—Å—Å–∏—è ‚Äî —Å–æ–∑–¥–∞–≤–∞—Ç—å –≥–∞—Ä–º–æ–Ω–∏—é.",
        3: "–¢–≤–æ—Ä–µ—Ü. –ê—Ä—Ç–∏—Å—Ç–∏—á–Ω–∞—è –Ω–∞—Ç—É—Ä–∞. –ú–∏—Å—Å–∏—è ‚Äî –≤–¥–æ—Ö–Ω–æ–≤–ª—è—Ç—å.",
        4: "–°—Ç—Ä–æ–∏—Ç–µ–ª—å. –ù–∞–¥—ë–∂–Ω—ã–π –ø—Ä–∞–∫—Ç–∏–∫. –ú–∏—Å—Å–∏—è ‚Äî —Å–æ–∑–¥–∞–≤–∞—Ç—å –æ—Å–Ω–æ–≤—ã.",
        5: "–ò—Å–∫–∞—Ç–µ–ª—å. –°–≤–æ–±–æ–¥–æ–ª—é–±–∏–≤—ã–π –∞–≤–∞–Ω—Ç—é—Ä–∏—Å—Ç. –ú–∏—Å—Å–∏—è ‚Äî –Ω–µ—Å—Ç–∏ –ø—Ä–æ–≥—Ä–µ—Å—Å.",
        6: "–•—Ä–∞–Ω–∏—Ç–µ–ª—å. –ó–∞–±–æ—Ç–ª–∏–≤—ã–π –æ–ø–µ–∫—É–Ω. –ú–∏—Å—Å–∏—è ‚Äî —Å–ª—É–∂–∏—Ç—å –∏ –∏—Å—Ü–µ–ª—è—Ç—å.",
        7: "–ú—ã—Å–ª–∏—Ç–µ–ª—å. –ì–ª—É–±–æ–∫–∏–π –∞–Ω–∞–ª–∏—Ç–∏–∫. –ú–∏—Å—Å–∏—è ‚Äî –∏—Å–∫–∞—Ç—å –∏—Å—Ç–∏–Ω—É.",
        8: "–£–ø—Ä–∞–≤–ª—è—é—â–∏–π. –í–ª–∞—Å—Ç–Ω—ã–π –ª–∏–¥–µ—Ä. –ú–∏—Å—Å–∏—è ‚Äî –æ—Å–≤–æ–∏—Ç—å –º–∞—Ç–µ—Ä–∏–∞–ª—å–Ω—ã–π –º–∏—Ä.",
        9: "–ì—É–º–∞–Ω–∏—Å—Ç. –ú—É–¥—Ä—ã–π —Å–ª—É–∂–∏—Ç–µ–ª—å. –ú–∏—Å—Å–∏—è ‚Äî –æ—Ç–¥–∞–≤–∞—Ç—å –º–∏—Ä—É.",
        11: "–ú–∞—Å—Ç–µ—Ä –∏–Ω—Ç—É–∏—Ü–∏–∏. –î—É—Ö–æ–≤–Ω—ã–π –ø—Ä–æ–≤–æ–¥–Ω–∏–∫. –ú–∏—Å—Å–∏—è ‚Äî –ø—Ä–æ—Å–≤–µ—â–∞—Ç—å.",
        22: "–ú–∞—Å—Ç–µ—Ä-—Å—Ç—Ä–æ–∏—Ç–µ–ª—å. –ê—Ä—Ö–∏—Ç–µ–∫—Ç–æ—Ä –≤–µ–ª–∏–∫–æ–≥–æ. –ú–∏—Å—Å–∏—è ‚Äî –≤–æ–ø–ª–æ—â–∞—Ç—å –≥—Ä–∞–Ω–¥–∏–æ–∑–Ω–æ–µ.",
        33: "–ú–∞—Å—Ç–µ—Ä-—É—á–∏—Ç–µ–ª—å. –í–æ–ø–ª–æ—â–µ–Ω–∏–µ –ª—é–±–≤–∏. –ú–∏—Å—Å–∏—è ‚Äî –Ω–µ—Å—Ç–∏ —Å–≤–µ—Ç."
    };
    return meanings[number] || "–£–Ω–∏–∫–∞–ª—å–Ω—ã–π –ø—É—Ç—å.";
};

export const getLifePathDetailed = (number) => {
    const details = {
        1: { mission: "–ù–∞—É—á–∏—Ç—å—Å—è –±—ã—Ç—å –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–º –ª–∏–¥–µ—Ä–æ–º.", strengths: ["–†–µ—à–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å", "–û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ—Å—Ç—å", "–°–º–µ–ª–æ—Å—Ç—å", "–ò–Ω–∏—Ü–∏–∞—Ç–∏–≤–Ω–æ—Å—Ç—å"], challenges: ["–≠–≥–æ–∏–∑–º", "–ù–µ—Ç–µ—Ä–ø–µ–Ω–∏–µ", "–ê–≥—Ä–µ—Å—Å–∏–≤–Ω–æ—Å—Ç—å"], careers: ["–ü—Ä–µ–¥–ø—Ä–∏–Ω–∏–º–∞—Ç–µ–ª—å", "–†—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—å", "–ò–∑–æ–±—Ä–µ—Ç–∞—Ç–µ–ª—å"], advice: "–ò—Å—Ç–∏–Ω–Ω—ã–π –ª–∏–¥–µ—Ä —Å–ª—É–∂–∏—Ç –∫–æ–º–∞–Ω–¥–µ." },
        2: { mission: "–û—Å–≤–æ–∏—Ç—å –∏—Å–∫—É—Å—Å—Ç–≤–æ –ø–∞—Ä—Ç–Ω—ë—Ä—Å—Ç–≤–∞.", strengths: ["–î–∏–ø–ª–æ–º–∞—Ç–∏—á–Ω–æ—Å—Ç—å", "–ò–Ω—Ç—É–∏—Ü–∏—è", "–¢–µ—Ä–ø–µ–Ω–∏–µ", "–ß—É—Ç–∫–æ—Å—Ç—å"], challenges: ["–ù–µ—Ä–µ—à–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å", "–û–±–∏–¥—á–∏–≤–æ—Å—Ç—å", "–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç—å"], careers: ["–î–∏–ø–ª–æ–º–∞—Ç", "–ü—Å–∏—Ö–æ–ª–æ–≥", "–ú–µ–¥–∏–∞—Ç–æ—Ä"], advice: "–ù–µ —Ç–µ—Ä—è–π—Ç–µ —Å–µ–±—è –≤ —É–≥–æ–¥—É –¥—Ä—É–≥–∏–º." },
        3: { mission: "–ù–µ—Å—Ç–∏ —Ä–∞–¥–æ—Å—Ç—å —á–µ—Ä–µ–∑ —Ç–≤–æ—Ä—á–µ—Å—Ç–≤–æ.", strengths: ["–ö—Ä–µ–∞—Ç–∏–≤–Ω–æ—Å—Ç—å", "–û–ø—Ç–∏–º–∏–∑–º", "–ê—Ä—Ç–∏—Å—Ç–∏–∑–º", "–û–±—â–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å"], challenges: ["–†–∞—Å—Å–µ—è–Ω–Ω–æ—Å—Ç—å", "–ü–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–Ω–æ—Å—Ç—å", "–î—Ä–∞–º–∞"], careers: ["–ü–∏—Å–∞—Ç–µ–ª—å", "–ê—Ä—Ç–∏—Å—Ç", "–î–∏–∑–∞–π–Ω–µ—Ä"], advice: "–°—Ñ–æ–∫—É—Å–∏—Ä—É–π—Ç–µ —Ç–∞–ª–∞–Ω—Ç." },
        4: { mission: "–°—Ç—Ä–æ–∏—Ç—å –Ω–∞–¥—ë–∂–Ω—ã–µ —Å–∏—Å—Ç–µ–º—ã.", strengths: ["–ù–∞–¥—ë–∂–Ω–æ—Å—Ç—å", "–û—Ä–≥–∞–Ω–∏–∑–æ–≤–∞–Ω–Ω–æ—Å—Ç—å", "–¢–µ—Ä–ø–µ–Ω–∏–µ", "–ü—Ä–∞–∫—Ç–∏—á–Ω–æ—Å—Ç—å"], challenges: ["–£–ø—Ä—è–º—Å—Ç–≤–æ", "–ù–µ–≥–∏–±–∫–æ—Å—Ç—å", "–¢—Ä—É–¥–æ–≥–æ–ª–∏–∑–º"], careers: ["–ò–Ω–∂–µ–Ω–µ—Ä", "–ê—Ä—Ö–∏—Ç–µ–∫—Ç–æ—Ä", "–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä"], advice: "–ñ–∏–∑–Ω—å –±–æ–ª—å—à–µ, —á–µ–º –ø–ª–∞–Ω." },
        5: { mission: "–ü–æ–∑–Ω–∞—Ç—å –≤—Å–µ –≥—Ä–∞–Ω–∏ –∂–∏–∑–Ω–∏.", strengths: ["–ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å", "–•–∞—Ä–∏–∑–º–∞", "–õ—é–±–æ–∑–Ω–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å", "–≠–Ω–µ—Ä–≥–∏—á–Ω–æ—Å—Ç—å"], challenges: ["–ù–µ–ø–æ—Å—Ç–æ—è–Ω—Å—Ç–≤–æ", "–ò–º–ø—É–ª—å—Å–∏–≤–Ω–æ—Å—Ç—å", "–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏"], careers: ["–ñ—É—Ä–Ω–∞–ª–∏—Å—Ç", "–ü—É—Ç–µ—à–µ—Å—Ç–≤–µ–Ω–Ω–∏–∫", "–ü—Ä–æ–¥–∞–≤–µ—Ü"], advice: "–°–≤–æ–±–æ–¥–∞ ‚Äî —ç—Ç–æ –æ—Å–æ–∑–Ω–∞–Ω–Ω—ã–π –≤—ã–±–æ—Ä." },
        6: { mission: "–°–ª—É–∂–∏—Ç—å –∏ –∏—Å—Ü–µ–ª—è—Ç—å.", strengths: ["–ó–∞–±–æ—Ç–ª–∏–≤–æ—Å—Ç—å", "–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å", "–≠—Å—Ç–µ—Ç–∏–∑–º", "–í–µ—Ä–Ω–æ—Å—Ç—å"], challenges: ["–°–∞–º–æ–ø–æ–∂–µ—Ä—Ç–≤–æ–≤–∞–Ω–∏–µ", "–ö–æ–Ω—Ç—Ä–æ–ª—å", "–ù–∞–≤—è–∑—á–∏–≤–æ—Å—Ç—å"], careers: ["–í—Ä–∞—á", "–£—á–∏—Ç–µ–ª—å", "–î–∏–∑–∞–π–Ω–µ—Ä –∏–Ω—Ç–µ—Ä—å–µ—Ä–æ–≤"], advice: "–ó–∞–±–æ—Ç—å—Ç–µ—Å—å –æ —Å–µ–±–µ –ø–µ—Ä–≤—ã–º." },
        7: { mission: "–ò—Å–∫–∞—Ç—å –≥–ª—É–±–∏–Ω–Ω—É—é –∏—Å—Ç–∏–Ω—É.", strengths: ["–ê–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏–π —É–º", "–ò–Ω—Ç—É–∏—Ü–∏—è", "–î—É—Ö–æ–≤–Ω–æ—Å—Ç—å", "–ì–ª—É–±–∏–Ω–∞"], challenges: ["–ó–∞–º–∫–Ω—É—Ç–æ—Å—Ç—å", "–°–∫–µ–ø—Ç–∏—Ü–∏–∑–º", "–û—Ç—Å—Ç—Ä–∞–Ω—ë–Ω–Ω–æ—Å—Ç—å"], careers: ["–£—á—ë–Ω—ã–π", "–§–∏–ª–æ—Å–æ—Ñ", "–ü–∏—Å–∞—Ç–µ–ª—å"], advice: "–î–µ–ª–∏—Ç–µ—Å—å –º—É–¥—Ä–æ—Å—Ç—å—é." },
        8: { mission: "–û—Å–≤–æ–∏—Ç—å –∑–∞–∫–æ–Ω—ã –º–∞—Ç–µ—Ä–∏–∞–ª—å–Ω–æ–≥–æ –º–∏—Ä–∞.", strengths: ["–ê–º–±–∏—Ü–∏–æ–∑–Ω–æ—Å—Ç—å", "–û—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä—Å–∫–∏–π —Ç–∞–ª–∞–Ω—Ç", "–†–µ—à–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å"], challenges: ["–ñ–∞–¥–Ω–æ—Å—Ç—å", "–í–ª–∞—Å—Ç–æ–ª—é–±–∏–µ", "–ß—ë—Ä—Å—Ç–≤–æ—Å—Ç—å"], careers: ["–ë–∏–∑–Ω–µ—Å–º–µ–Ω", "–§–∏–Ω–∞–Ω—Å–∏—Å—Ç", "–Æ—Ä–∏—Å—Ç"], advice: "–î–µ–Ω—å–≥–∏ ‚Äî –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç, –Ω–µ —Ü–µ–ª—å." },
        9: { mission: "–ó–∞–≤–µ—Ä—à–∞—Ç—å —Ü–∏–∫–ª—ã –∏ —Å–ª—É–∂–∏—Ç—å.", strengths: ["–ú—É–¥—Ä–æ—Å—Ç—å", "–°–æ—Å—Ç—Ä–∞–¥–∞–Ω–∏–µ", "–®–∏—Ä–æ—Ç–∞ –≤–∑–≥–ª—è–¥–æ–≤", "–¢–µ—Ä–ø–∏–º–æ—Å—Ç—å"], challenges: ["–≠–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å", "–ñ–µ—Ä—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å", "–†–∞–∑–æ—á–∞—Ä–æ–≤–∞–Ω–∏–µ"], careers: ["–¶–µ–ª–∏—Ç–µ–ª—å", "–§–∏–ª–∞–Ω—Ç—Ä–æ–ø", "–•—É–¥–æ–∂–Ω–∏–∫"], advice: "–ü—Ä–æ—â–µ–Ω–∏–µ ‚Äî –ø—É—Ç—å –∫ —Å–≤–æ–±–æ–¥–µ." },
        11: { mission: "–ë—ã—Ç—å –ø—Ä–æ–≤–æ–¥–Ω–∏–∫–æ–º –≤—ã—Å—à–∏—Ö –∏–¥–µ–π.", strengths: ["–°–≤–µ—Ä—Ö–∏–Ω—Ç—É–∏—Ü–∏—è", "–•–∞—Ä–∏–∑–º–∞", "–í–¥–æ—Ö–Ω–æ–≤–µ–Ω–∏–µ", "–í–∏–¥–µ–Ω–∏–µ"], challenges: ["–ù–µ—Ä–≤–æ–∑–Ω–æ—Å—Ç—å", "–ì–∏–ø–µ—Ä—á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å"], careers: ["–î—É—Ö–æ–≤–Ω—ã–π –ª–∏–¥–µ—Ä", "–ò–∑–æ–±—Ä–µ—Ç–∞—Ç–µ–ª—å", "–•—É–¥–æ–∂–Ω–∏–∫"], advice: "–ó–∞–∑–µ–º–ª—è–π—Ç–µ—Å—å." },
        22: { mission: "–í–æ–ø–ª–æ—â–∞—Ç—å –≥—Ä–∞–Ω–¥–∏–æ–∑–Ω—ã–µ –ø—Ä–æ–µ–∫—Ç—ã.", strengths: ["–ú–∞—Å—à—Ç–∞–±–Ω–æ–µ –≤–∏–¥–µ–Ω–∏–µ", "–ü—Ä–∞–∫—Ç–∏—á–Ω–æ—Å—Ç—å", "–õ–∏–¥–µ—Ä—Å—Ç–≤–æ"], challenges: ["–°—Ç—Ä–∞—Ö –Ω–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è", "–ü–µ—Ä—Ñ–µ–∫—Ü–∏–æ–Ω–∏–∑–º"], careers: ["–ê—Ä—Ö–∏—Ç–µ–∫—Ç–æ—Ä", "–ü–æ–ª–∏—Ç–∏–∫", "–û—Å–Ω–æ–≤–∞—Ç–µ–ª—å"], advice: "–í–∞—à–∏ –º–µ—á—Ç—ã ‚Äî —ç—Ç–æ –ø–ª–∞–Ω." },
        33: { mission: "–ù–µ—Å—Ç–∏ –±–µ–∑—É—Å–ª–æ–≤–Ω—É—é –ª—é–±–æ–≤—å.", strengths: ["–ë–µ–∑—É—Å–ª–æ–≤–Ω–∞—è –ª—é–±–æ–≤—å", "–ú—É–¥—Ä–æ—Å—Ç—å", "–¶–µ–ª–∏—Ç–µ–ª—å—Å—Ç–≤–æ"], challenges: ["–°–∞–º–æ–ø–æ–∂–µ—Ä—Ç–≤–æ–≤–∞–Ω–∏–µ", "–ò—Å—Ç–æ—â–µ–Ω–∏–µ"], careers: ["–î—É—Ö–æ–≤–Ω—ã–π —É—á–∏—Ç–µ–ª—å", "–¶–µ–ª–∏—Ç–µ–ª—å"], advice: "–ü—Ä–∏–Ω–∏–º–∞–π—Ç–µ –ø–æ–º–æ—â—å." }
    };
    return details[number] || null;
};

// ==================== –°–û–í–ú–ï–°–¢–ò–ú–û–°–¢–¨ ====================

export const getCompatibility = (lifePath1, lifePath2) => {
    const matrix = {
        1: { 1: 70, 2: 60, 3: 85, 4: 50, 5: 90, 6: 65, 7: 75, 8: 80, 9: 85 },
        2: { 1: 60, 2: 75, 3: 70, 4: 80, 5: 55, 6: 95, 7: 65, 8: 85, 9: 75 },
        3: { 1: 85, 2: 70, 3: 80, 4: 55, 5: 95, 6: 90, 7: 60, 8: 65, 9: 85 },
        4: { 1: 50, 2: 80, 3: 55, 4: 75, 5: 45, 6: 85, 7: 70, 8: 95, 9: 60 },
        5: { 1: 90, 2: 55, 3: 95, 4: 45, 5: 70, 6: 50, 7: 85, 8: 60, 9: 80 },
        6: { 1: 65, 2: 95, 3: 90, 4: 85, 5: 50, 6: 80, 7: 55, 8: 75, 9: 95 },
        7: { 1: 75, 2: 65, 3: 60, 4: 70, 5: 85, 6: 55, 7: 90, 8: 65, 9: 70 },
        8: { 1: 80, 2: 85, 3: 65, 4: 95, 5: 60, 6: 75, 7: 65, 8: 85, 9: 70 },
        9: { 1: 85, 2: 75, 3: 85, 4: 60, 5: 80, 6: 95, 7: 70, 8: 70, 9: 75 }
    };

    const p1 = lifePath1 > 9 ? reduceToSingle(lifePath1) : lifePath1;
    const p2 = lifePath2 > 9 ? reduceToSingle(lifePath2) : lifePath2;

    const score = matrix[p1]?.[p2] || 65;

    let level, desc;
    if (score >= 90) { level = "–ò–¥–µ–∞–ª—å–Ω–∞—è"; desc = "–ì–ª—É–±–æ–∫–æ–µ –ø–æ–Ω–∏–º–∞–Ω–∏–µ –∏ –≤–∑–∞–∏–º–æ–¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ. –í—ã —É—Å–∏–ª–∏–≤–∞–µ—Ç–µ –¥—Ä—É–≥ –¥—Ä—É–≥–∞."; }
    else if (score >= 75) { level = "–í—ã—Å–æ–∫–∞—è"; desc = "–•–æ—Ä–æ—à–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å. –ï—Å—Ç—å –æ–±—â–∏–µ —Ü–µ–Ω–Ω–æ—Å—Ç–∏ –∏ –≤–∑–∞–∏–º–æ–ø–æ–Ω–∏–º–∞–Ω–∏–µ."; }
    else if (score >= 60) { level = "–°—Ä–µ–¥–Ω—è—è"; desc = "–í–æ–∑–º–æ–∂–Ω—ã –æ—Ç–Ω–æ—à–µ–Ω–∏—è –ø—Ä–∏ –≤–∑–∞–∏–º–Ω—ã—Ö —É—Å–∏–ª–∏—è—Ö. –ï—Å—Ç—å —á–µ–º—É —É—á–∏—Ç—å—Å—è –¥—Ä—É–≥ —É –¥—Ä—É–≥–∞."; }
    else { level = "–°–ª–æ–∂–Ω–∞—è"; desc = "–ú–Ω–æ–≥–æ —Ä–∞–∑–ª–∏—á–∏–π. –ü–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è —Å–µ—Ä—å—ë–∑–Ω–∞—è —Ä–∞–±–æ—Ç–∞ –Ω–∞–¥ –æ—Ç–Ω–æ—à–µ–Ω–∏—è–º–∏."; }

    return { score, level, desc };
};

export const getCompatibilityAdvice = (lifePath1, lifePath2) => {
    const advices = {
        "1-1": "–î–≤–∞ –ª–∏–¥–µ—Ä–∞. –í–∞–∂–Ω–æ —Ä–∞–∑–¥–µ–ª–∏—Ç—å —Å—Ñ–µ—Ä—ã –≤–ª–∏—è–Ω–∏—è –∏ —É–≤–∞–∂–∞—Ç—å –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –¥—Ä—É–≥ –¥—Ä—É–≥–∞.",
        "1-2": "–õ–∏–¥–µ—Ä –∏ –¥–∏–ø–ª–æ–º–∞—Ç. –î–≤–æ–π–∫–∞ —Å–º—è–≥—á–∞–µ—Ç –µ–¥–∏–Ω–∏—Ü—É. –í–∞–∂–µ–Ω –±–∞–ª–∞–Ω—Å –≤–ª–∞—Å—Ç–∏.",
        "1-3": "–≠–Ω–µ—Ä–≥–∏—á–Ω–∞—è –ø–∞—Ä–∞. –ú–Ω–æ–≥–æ –∫—Ä–µ–∞—Ç–∏–≤–∞ –∏ –¥–≤–∏–∂–µ–Ω–∏—è. –°–ª–µ–¥–∏—Ç–µ –∑–∞ —ç–≥–æ.",
        "1-5": "–ê–≤–∞–Ω—Ç—é—Ä–Ω—ã–π —Å–æ—é–∑. –ú–Ω–æ–≥–æ —Å–≤–æ–±–æ–¥—ã –∏ –ø—Ä–∏–∫–ª—é—á–µ–Ω–∏–π. –ù—É–∂–Ω–∞ –æ–±—â–∞—è —Ü–µ–ª—å.",
        "2-6": "–ì–∞—Ä–º–æ–Ω–∏—á–Ω—ã–π —Å–æ—é–∑. –û–±–∞ —Ü–µ–Ω—è—Ç —Å–µ–º—å—é –∏ –∑–∞–±–æ—Ç—É. –ò–¥–µ–∞–ª—å–Ω–æ –¥–ª—è –±—Ä–∞–∫–∞.",
        "3-5": "–Ø—Ä–∫–∞—è –ø–∞—Ä–∞. –ú–Ω–æ–≥–æ –≤–µ—Å–µ–ª—å—è –∏ —Ç–≤–æ—Ä—á–µ—Å—Ç–≤–∞. –í–∞–∂–Ω–∞ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å.",
        "3-6": "–¢–≤–æ—Ä—á–µ—Å—Ç–≤–æ –∏ –∑–∞–±–æ—Ç–∞. –ö—Ä–∞—Å–∏–≤—ã–π —Å–æ—é–∑ —Å –∞–∫—Ü–µ–Ω—Ç–æ–º –Ω–∞ —ç—Å—Ç–µ—Ç–∏–∫—É.",
        "4-8": "–ú–∞—Ç–µ—Ä–∏–∞–ª—å–Ω—ã–π —É—Å–ø–µ—Ö. –û–±–∞ –ø—Ä–∞–∫—Ç–∏—á–Ω—ã –∏ —Ü–µ–ª–µ—É—Å—Ç—Ä–µ–º–ª—ë–Ω–Ω—ã. –ú–æ—â–Ω—ã–π –¥–µ–ª–æ–≤–æ–π —Å–æ—é–∑.",
        "6-9": "–°–æ—é–∑ —Å–ª—É–∂–µ–Ω–∏—è. –û–±–∞ —Ö–æ—Ç—è—Ç –ø–æ–º–æ–≥–∞—Ç—å –º–∏—Ä—É. –ì–ª—É–±–æ–∫–æ–µ –¥—É—Ö–æ–≤–Ω–æ–µ –ø–æ–Ω–∏–º–∞–Ω–∏–µ.",
        "7-7": "–î–≤–∞ —Ñ–∏–ª–æ—Å–æ—Ñ–∞. –ì–ª—É–±–æ–∫–∏–µ —Ä–∞–∑–≥–æ–≤–æ—Ä—ã, –Ω–æ —Ä–∏—Å–∫ –∏–∑–æ–ª—è—Ü–∏–∏ –æ—Ç –º–∏—Ä–∞."
    };

    const key1 = `${Math.min(lifePath1, lifePath2)}-${Math.max(lifePath1, lifePath2)}`;
    return advices[key1] || "–ò–∑—É—á–∞–π—Ç–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –¥—Ä—É–≥ –¥—Ä—É–≥–∞ –∏ —Ä–∞–∑–≤–∏–≤–∞–π—Ç–µ —Ç–µ—Ä–ø–µ–Ω–∏–µ.";
};

// ==================== –ó–î–û–†–û–í–¨–ï –ü–û –ü–°–ò–•–û–ú–ê–¢–†–ò–¶–ï ====================

export const getHealthAnalysis = (matrix) => {
    const health4 = matrix[4] || 0;
    const recommendations = [];

    // –ê–Ω–∞–ª–∏–∑ –ø–æ —è—á–µ–π–∫–µ 4 (–∑–¥–æ—Ä–æ–≤—å–µ)
    if (health4 === 0) {
        recommendations.push({
            area: "–§–∏–∑–∏—á–µ—Å–∫–æ–µ —Ç–µ–ª–æ",
            status: "–¢—Ä–µ–±—É–µ—Ç –≤–Ω–∏–º–∞–Ω–∏—è",
            advice: "–°–ª–∞–±—ã–π –ø—Ä–∏—Ä–æ–¥–Ω—ã–π –∑–∞–ø–∞—Å –∑–¥–æ—Ä–æ–≤—å—è. –†–µ–≥—É–ª—è—Ä–Ω—ã–µ –ø—Ä–æ—Ñ–∏–ª–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –æ—Å–º–æ—Ç—Ä—ã –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã. –ò–∑–±–µ–≥–∞–π—Ç–µ –ø–µ—Ä–µ–≥—Ä—É–∑–æ–∫."
        });
    } else if (health4 >= 3) {
        recommendations.push({
            area: "–§–∏–∑–∏—á–µ—Å–∫–æ–µ —Ç–µ–ª–æ",
            status: "–°–∏–ª—å–Ω–æ–µ",
            advice: "–•–æ—Ä–æ—à–∏–π –∑–∞–ø–∞—Å –∑–¥–æ—Ä–æ–≤—å—è. –ú–æ–∂–µ—Ç–µ –∑–∞–Ω–∏–º–∞—Ç—å—Å—è –∞–∫—Ç–∏–≤–Ω—ã–º —Å–ø–æ—Ä—Ç–æ–º. –ù–µ –∑–ª–æ—É–ø–æ—Ç—Ä–µ–±–ª—è–π—Ç–µ –≤—ã–Ω–æ—Å–ª–∏–≤–æ—Å—Ç—å—é."
        });
    }

    // –ê–Ω–∞–ª–∏–∑ –ø–æ —è—á–µ–π–∫–µ 2 (—ç–Ω–µ—Ä–≥–∏—è)
    const energy2 = matrix[2] || 0;
    if (energy2 === 0) {
        recommendations.push({
            area: "–≠–Ω–µ—Ä–≥–µ—Ç–∏–∫–∞",
            status: "–î–µ—Ñ–∏—Ü–∏—Ç",
            advice: "–í–∞–∂–Ω–æ –≤—ã—Å—ã–ø–∞—Ç—å—Å—è, –±—ã–≤–∞—Ç—å –Ω–∞ –ø—Ä–∏—Ä–æ–¥–µ, –∏–∑–±–µ–≥–∞—Ç—å —ç–Ω–µ—Ä–≥–µ—Ç–∏—á–µ—Å–∫–∏—Ö –≤–∞–º–ø–∏—Ä–æ–≤. –ü–æ–ª–µ–∑–Ω—ã: –π–æ–≥–∞, —Ü–∏–≥—É–Ω, –º–µ–¥–∏—Ç–∞—Ü–∏—è."
        });
    } else if (energy2 >= 4) {
        recommendations.push({
            area: "–≠–Ω–µ—Ä–≥–µ—Ç–∏–∫–∞",
            status: "–ò–∑–±—ã—Ç–æ–∫",
            advice: "–ú–Ω–æ–≥–æ —ç–Ω–µ—Ä–≥–∏–∏ —Ç—Ä–µ–±—É–µ—Ç –≤—ã—Ö–æ–¥–∞. –§–∏–∑–∏—á–µ—Å–∫–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–∞, –∏–Ω–∞—á–µ ‚Äî –≤–∑—Ä—ã–≤—ã –∏ –±–µ—Å—Å–æ–Ω–Ω–∏—Ü–∞."
        });
    }

    // –ê–Ω–∞–ª–∏–∑ –ø–æ —è—á–µ–π–∫–µ 7 (—É–¥–∞—á–∞/–∑–∞—â–∏—Ç–∞)
    const luck7 = matrix[7] || 0;
    if (luck7 === 0) {
        recommendations.push({
            area: "–ó–∞—â–∏—Ç–∞",
            status: "–°–ª–∞–±–∞—è",
            advice: "–ù–µ—Ç –≤—Ä–æ–∂–¥—ë–Ω–Ω–æ–π –∑–∞—â–∏—Ç—ã. –í–∞–∂–Ω–æ –±—ã—Ç—å –æ—Å—Ç–æ—Ä–æ–∂–Ω—ã–º, —Å—Ç—Ä–∞—Ö–æ–≤–∞—Ç—å —Ä–∏—Å–∫–∏, –Ω–µ –ø–æ–ª–∞–≥–∞—Ç—å—Å—è –Ω–∞ —É–¥–∞—á—É."
        });
    }

    // –û–±—â–∏–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –ª–∏–Ω–∏—è–º
    const lines = calculateLines(matrix);
    if (lines.diagonals.spirituality < 3) {
        recommendations.push({
            area: "–ü—Å–∏—Ö–∏–∫–∞",
            status: "–£—è–∑–≤–∏–º–∞",
            advice: "–ù–∏–∑–∫–∞—è –¥—É—Ö–æ–≤–Ω–∞—è –ª–∏–Ω–∏—è. –í–∞–∂–Ω–æ: –º–µ–¥–∏—Ç–∞—Ü–∏—è, —Ä–∞–±–æ—Ç–∞ —Å –ø—Å–∏—Ö–æ–ª–æ–≥–æ–º, —Ä–∞–∑–≤–∏—Ç–∏–µ –æ—Å–æ–∑–Ω–∞–Ω–Ω–æ—Å—Ç–∏."
        });
    }

    return recommendations;
};

// ==================== –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò –ü–û –†–ê–ó–í–ò–¢–ò–Æ ====================

export const getDevelopmentAdvice = (matrix, lifePath) => {
    const advice = [];

    // –°–ª–∞–±—ã–µ –∑–æ–Ω—ã
    if (matrix[1] < 2) advice.push({ type: "develop", text: "–†–∞–∑–≤–∏–≤–∞–π—Ç–µ —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å. –ü—Ä–∞–∫—Ç–∏–∫—É–π—Ç–µ –ø—É–±–ª–∏—á–Ω—ã–µ –≤—ã—Å—Ç—É–ø–ª–µ–Ω–∏—è, –ø—Ä–∏–Ω–∏–º–∞–π—Ç–µ —Ä–µ—à–µ–Ω–∏—è —Å–∞–º–∏." });
    if (matrix[2] < 2) advice.push({ type: "develop", text: "–£–∫—Ä–µ–ø–ª—è–π—Ç–µ —ç–Ω–µ—Ä–≥–∏—é. –í—ã—Å—ã–ø–∞–π—Ç–µ—Å—å, –∑–∞–Ω–∏–º–∞–π—Ç–µ—Å—å —Å–ø–æ—Ä—Ç–æ–º, –±—ã–≤–∞–π—Ç–µ –Ω–∞ –ø—Ä–∏—Ä–æ–¥–µ." });
    if (matrix[5] < 2) advice.push({ type: "develop", text: "–¢—Ä–µ–Ω–∏—Ä—É–π—Ç–µ –ª–æ–≥–∏–∫—É. –®–∞—Ö–º–∞—Ç—ã, –∑–∞–¥–∞—á–∏, –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–º–æ–≥—É—Ç." });
    if (matrix[8] < 2) advice.push({ type: "develop", text: "–†–∞–∑–≤–∏–≤–∞–π—Ç–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å. –ë–µ—Ä–∏—Ç–µ –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞ –∏ –≤—ã–ø–æ–ª–Ω—è–π—Ç–µ –∏—Ö." });

    // –°–∏–ª—å–Ω—ã–µ –∑–æ–Ω—ã
    if (matrix[1] >= 4) advice.push({ type: "use", text: "–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–∏–ª—É —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∞ –¥–ª—è –ª–∏–¥–µ—Ä—Å–∫–∏—Ö —Ä–æ–ª–µ–π. –ù–æ —É—á–∏—Ç–µ—Å—å —Å–ª—É—à–∞—Ç—å –¥—Ä—É–≥–∏—Ö." });
    if (matrix[3] >= 3) advice.push({ type: "use", text: "–†–µ–∞–ª–∏–∑—É–π—Ç–µ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª –≤ –Ω–∞—É–∫–µ, —Ç–µ—Ö–Ω–∏–∫–µ –∏–ª–∏ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è—Ö." });
    if (matrix[6] >= 3) advice.push({ type: "use", text: "–í–∞—à–∏ –∑–æ–ª–æ—Ç—ã–µ —Ä—É–∫–∏ ‚Äî —Ä–µ–º–µ—Å–ª–æ, –∏—Å–∫—É—Å—Å—Ç–≤–æ, —Ä—É–∫–æ–¥–µ–ª–∏–µ –≤–∞—à –ø—É—Ç—å." });
    if (matrix[9] >= 3) advice.push({ type: "use", text: "–û—Ç–ª–∏—á–Ω–∞—è –ø–∞–º—è—Ç—å ‚Äî –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –¥–ª—è –æ–±—É—á–µ–Ω–∏—è, —è–∑—ã–∫–æ–≤, —ç–∫—Å–ø–µ—Ä—Ç–∏–∑—ã." });

    return advice;
};

// ==================== –ß–ò–°–õ–ê –ò–°–ü–´–¢–ê–ù–ò–Ø ====================

/**
 * –ß–µ—Ç—ã—Ä–µ –ß–∏—Å–ª–∞ –ò—Å–ø—ã—Ç–∞–Ω–∏—è –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç —É—Ä–æ–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ –Ω—É–∂–Ω–æ –ø—Ä–æ–π—Ç–∏
 */
export const calculateChallengeNumbers = (dateString) => {
    if (!dateString) return [];
    const [year, month, day] = dateString.split('-').map(Number);

    const dayReduced = reduceToSingle(day);
    const monthReduced = reduceToSingle(month);
    const yearReduced = reduceToSingle(year);

    const first = Math.abs(dayReduced - monthReduced);
    const second = Math.abs(dayReduced - yearReduced);
    const third = Math.abs(first - second);
    const fourth = Math.abs(monthReduced - yearReduced);

    return [
        { period: "–ú–æ–ª–æ–¥–æ—Å—Ç—å", number: first },
        { period: "–°—Ä–µ–¥–Ω–∏–π –≤–æ–∑—Ä–∞—Å—Ç", number: second },
        { period: "–ó—Ä–µ–ª–æ—Å—Ç—å", number: third },
        { period: "–í—Å—é –∂–∏–∑–Ω—å", number: fourth }
    ];
};

export const getChallengeMeaning = (num) => {
    const meanings = {
        0: { title: "–°–≤–æ–±–æ–¥–∞ –≤—ã–±–æ—Ä–∞", desc: "–†–µ–¥–∫–æ–µ –∏—Å–ø—ã—Ç–∞–Ω–∏–µ. –í—ã –º–æ–∂–µ—Ç–µ –≤—ã–±—Ä–∞—Ç—å –ª—é–±–æ–π —É—Ä–æ–∫. –≠—Ç–æ –∏ –¥–∞—Ä, –∏ —Å–ª–æ–∂–Ω–æ—Å—Ç—å ‚Äî –Ω–µ—Ç —á—ë—Ç–∫–æ–≥–æ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è.", advice: "–û–ø—Ä–µ–¥–µ–ª–∏—Ç–µ —Å–∞–º–∏, —á–µ–º—É —Ö–æ—Ç–∏—Ç–µ –Ω–∞—É—á–∏—Ç—å—Å—è." },
        1: { title: "–ù–µ–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å", desc: "–£—Ä–æ–∫ ‚Äî –Ω–∞—É—á–∏—Ç—å—Å—è —Å—Ç–æ—è—Ç—å –Ω–∞ —Å–≤–æ–∏—Ö –Ω–æ–≥–∞—Ö, –Ω–µ –±–æ—è—Ç—å—Å—è –±—ã—Ç—å —Å–æ–±–æ–π –∏ –æ—Ç—Å—Ç–∞–∏–≤–∞—Ç—å —Å–≤–æ—é –ø–æ–∑–∏—Ü–∏—é.", advice: "–ü—Ä–µ–æ–¥–æ–ª–µ–≤–∞–π—Ç–µ —Å—Ç—Ä–∞—Ö –Ω–µ–æ–¥–æ–±—Ä–µ–Ω–∏—è." },
        2: { title: "–ß—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å", desc: "–£—Ä–æ–∫ ‚Äî –Ω–∞—É—á–∏—Ç—å—Å—è –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞—Ç—å –º–µ–∂–¥—É —Å–≤–æ–∏–º–∏ –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç—è–º–∏ –∏ –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç—è–º–∏ –¥—Ä—É–≥–∏—Ö. –ù–µ —Ç–µ—Ä—è—Ç—å —Å–µ–±—è.", advice: "–†–∞–∑–≤–∏–≤–∞–π—Ç–µ –∑–¥–æ—Ä–æ–≤—ã–µ –≥—Ä–∞–Ω–∏—Ü—ã." },
        3: { title: "–°–∞–º–æ–≤—ã—Ä–∞–∂–µ–Ω–∏–µ", desc: "–£—Ä–æ–∫ ‚Äî –ø—Ä–µ–æ–¥–æ–ª–µ—Ç—å —Å—Ç—Ä–∞—Ö –∫—Ä–∏—Ç–∏–∫–∏ –∏ —Ä–∞—Å–∫—Ä—ã—Ç—å —Å–≤–æ–∏ —Ç–≤–æ—Ä—á–µ—Å–∫–∏–µ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏.", advice: "–ù–µ –ø–æ–¥–∞–≤–ª—è–π—Ç–µ —ç–º–æ—Ü–∏–∏ –∏ –∏–¥–µ–∏." },
        4: { title: "–î–∏—Å—Ü–∏–ø–ª–∏–Ω–∞", desc: "–£—Ä–æ–∫ ‚Äî –Ω–∞—É—á–∏—Ç—å—Å—è –ø–æ—Ä—è–¥–∫—É –∏ —É–ø–æ—Ä–Ω–æ–º—É —Ç—Ä—É–¥—É –±–µ–∑ –æ—â—É—â–µ–Ω–∏—è –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è.", advice: "–ü–æ–ª—é–±–∏—Ç–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—É." },
        5: { title: "–°–≤–æ–±–æ–¥–∞", desc: "–£—Ä–æ–∫ ‚Äî –Ω–∞–π—Ç–∏ –±–∞–ª–∞–Ω—Å –º–µ–∂–¥—É —Å–≤–æ–±–æ–¥–æ–π –∏ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å—é, –Ω–µ —Å–±–µ–≥–∞—Ç—å –æ—Ç –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤.", advice: "–°–≤–æ–±–æ–¥–∞ ‚Äî —ç—Ç–æ –æ—Å–æ–∑–Ω–∞–Ω–Ω–æ—Å—Ç—å." },
        6: { title: "–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å", desc: "–£—Ä–æ–∫ ‚Äî –Ω–∞—É—á–∏—Ç—å—Å—è –∑–∞–±–æ—Ç–∏—Ç—å—Å—è, –Ω–µ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É—è –∏ –Ω–µ –∂–µ—Ä—Ç–≤—É—è —Å–æ–±–æ–π.", advice: "–õ—é–±–æ–≤—å ‚â† –∫–æ–Ω—Ç—Ä–æ–ª—å." },
        7: { title: "–í–µ—Ä–∞", desc: "–£—Ä–æ–∫ ‚Äî –¥–æ–≤–µ—Ä–∏—Ç—å—Å—è –∏–Ω—Ç—É–∏—Ü–∏–∏, –ø—Ä–µ–æ–¥–æ–ª–µ—Ç—å —Å–∫–µ–ø—Ç–∏—Ü–∏–∑–º –∏ —Å—Ç—Ä–∞—Ö –≥–ª—É–±–æ–∫–∏—Ö —á—É–≤—Å—Ç–≤.", advice: "–ù–µ –≤—Å—ë –º–æ–∂–Ω–æ –ø–æ–Ω—è—Ç—å —É–º–æ–º." },
        8: { title: "–í–ª–∞—Å—Ç—å", desc: "–£—Ä–æ–∫ ‚Äî –Ω–∞—É—á–∏—Ç—å—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–∏–ª—É –∏ –¥–µ–Ω—å–≥–∏ –º—É–¥—Ä–æ, –±–µ–∑ —Å—Ç—Ä–∞—Ö–∞ –∏–ª–∏ –∂–∞–¥–Ω–æ—Å—Ç–∏.", advice: "–í–ª–∞—Å—Ç—å ‚Äî —ç—Ç–æ —Å–ª—É–∂–µ–Ω–∏–µ." }
    };
    return meanings[num] || meanings[0];
};

// ==================== –°–ö–†–´–¢–´–ï –°–¢–†–ê–°–¢–ò ====================

/**
 * –°–∫—Ä—ã—Ç—ã–µ —Å—Ç—Ä–∞—Å—Ç–∏ ‚Äî —á–∏—Å–ª–∞, –∫–æ—Ç–æ—Ä—ã–µ –≤—Å—Ç—Ä–µ—á–∞—é—Ç—Å—è –≤ –∏–º–µ–Ω–∏ 3+ —Ä–∞–∑–∞
 */
export const calculateHiddenPassions = (fullName) => {
    if (!fullName) return [];

    const counts = {};
    fullName.toLowerCase().split('').forEach(char => {
        const val = getLetterValue(char);
        if (val > 0) counts[val] = (counts[val] || 0) + 1;
    });

    return Object.entries(counts)
        .filter(([, count]) => count >= 3)
        .map(([num, count]) => ({ number: parseInt(num), count }))
        .sort((a, b) => b.count - a.count);
};

export const getHiddenPassionMeaning = (num) => {
    const meanings = {
        1: { title: "–°—Ç—Ä–∞—Å—Ç—å –∫ –ª–∏–¥–µ—Ä—Å—Ç–≤—É", desc: "–ì–ª—É–±–æ–∫–∞—è –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç—å –±—ã—Ç—å –ø–µ—Ä–≤—ã–º, –≤–µ—Å—Ç–∏ –∑–∞ —Å–æ–±–æ–π, –ø—Ä–æ—è–≤–ª—è—Ç—å –∏–Ω–∏—Ü–∏–∞—Ç–∏–≤—É." },
        2: { title: "–°—Ç—Ä–∞—Å—Ç—å –∫ –≥–∞—Ä–º–æ–Ω–∏–∏", desc: "–°–∏–ª—å–Ω–æ–µ —Å—Ç—Ä–µ–º–ª–µ–Ω–∏–µ –∫ –ø–∞—Ä—Ç–Ω—ë—Ä—Å—Ç–≤—É, —Å–æ—Ç—Ä—É–¥–Ω–∏—á–µ—Å—Ç–≤—É, –º–∏—Ä—É –≤ –æ—Ç–Ω–æ—à–µ–Ω–∏—è—Ö." },
        3: { title: "–°—Ç—Ä–∞—Å—Ç—å –∫ —Å–∞–º–æ–≤—ã—Ä–∞–∂–µ–Ω–∏—é", desc: "–ú–æ—â–Ω–∞—è –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç—å —Ç–≤–æ—Ä–∏—Ç—å, –≥–æ–≤–æ—Ä–∏—Ç—å, –±—ã—Ç—å —É—Å–ª—ã—à–∞–Ω–Ω—ã–º –∏ –æ—Ü–µ–Ω—ë–Ω–Ω—ã–º." },
        4: { title: "–°—Ç—Ä–∞—Å—Ç—å –∫ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏", desc: "–ì–ª—É–±–æ–∫–æ–µ —Å—Ç—Ä–µ–º–ª–µ–Ω–∏–µ –∫ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏, –ø–æ—Ä—è–¥–∫—É, –Ω–∞–¥—ë–∂–Ω–æ–º—É —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç—É." },
        5: { title: "–°—Ç—Ä–∞—Å—Ç—å –∫ —Å–≤–æ–±–æ–¥–µ", desc: "–°–∏–ª—å–Ω–µ–π—à–∞—è –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç—å –≤ —Ä–∞–∑–Ω–æ–æ–±—Ä–∞–∑–∏–∏, –ø–µ—Ä–µ–º–µ–Ω–∞—Ö, –ø—Ä–∏–∫–ª—é—á–µ–Ω–∏—è—Ö." },
        6: { title: "–°—Ç—Ä–∞—Å—Ç—å –∫ –ª—é–±–≤–∏", desc: "–ì–ª—É–±–æ–∫–∞—è –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç—å –∑–∞–±–æ—Ç–∏—Ç—å—Å—è, –ª—é–±–∏—Ç—å –∏ –±—ã—Ç—å –ª—é–±–∏–º—ã–º." },
        7: { title: "–°—Ç—Ä–∞—Å—Ç—å –∫ –∑–Ω–∞–Ω–∏—è–º", desc: "–ú–æ—â–Ω–æ–µ —Å—Ç—Ä–µ–º–ª–µ–Ω–∏–µ –∫ –ø–æ–Ω–∏–º–∞–Ω–∏—é, –∞–Ω–∞–ª–∏–∑—É, –¥—É—Ö–æ–≤–Ω–æ–º—É –ø–æ–∏—Å–∫—É." },
        8: { title: "–°—Ç—Ä–∞—Å—Ç—å –∫ —É—Å–ø–µ—Ö—É", desc: "–°–∏–ª—å–Ω–∞—è –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç—å –≤ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è—Ö, –ø—Ä–∏–∑–Ω–∞–Ω–∏–∏, –º–∞—Ç–µ—Ä–∏–∞–ª—å–Ω–æ–º –±–ª–∞–≥–æ–ø–æ–ª—É—á–∏–∏." },
        9: { title: "–°—Ç—Ä–∞—Å—Ç—å –∫ —Å–ª—É–∂–µ–Ω–∏—é", desc: "–ì–ª—É–±–æ–∫–æ–µ —Å—Ç—Ä–µ–º–ª–µ–Ω–∏–µ –ø–æ–º–æ–≥–∞—Ç—å, –∏—Å—Ü–µ–ª—è—Ç—å, –º–µ–Ω—è—Ç—å –º–∏—Ä –∫ –ª—É—á—à–µ–º—É." }
    };
    return meanings[num] || { title: "–£–Ω–∏–∫–∞–ª—å–Ω–∞—è —Å—Ç—Ä–∞—Å—Ç—å", desc: "–¢—Ä–µ–±—É–µ—Ç –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞." };
};

// ==================== –ê–§–§–ò–†–ú–ê–¶–ò–ò –î–ù–Ø ====================

export const getDailyAffirmation = (personalDay) => {
    const affirmations = {
        1: [
            "–°–µ–≥–æ–¥–Ω—è —è –±–µ—Ä—É –∏–Ω–∏—Ü–∏–∞—Ç–∏–≤—É –≤ —Å–≤–æ–∏ —Ä—É–∫–∏",
            "–Ø ‚Äî —Å–æ–∑–¥–∞—Ç–µ–ª—å —Å–≤–æ–µ–π —Ä–µ–∞–ª—å–Ω–æ—Å—Ç–∏",
            "–ù–æ–≤—ã–µ –Ω–∞—á–∏–Ω–∞–Ω–∏—è –≤–µ–¥—É—Ç –∫ —É—Å–ø–µ—Ö—É"
        ],
        2: [
            "–Ø –æ—Ç–∫—Ä—ã—Ç –∫ —Å–æ—Ç—Ä—É–¥–Ω–∏—á–µ—Å—Ç–≤—É –∏ –ø–∞—Ä—Ç–Ω—ë—Ä—Å—Ç–≤—É",
            "–¢–µ—Ä–ø–µ–Ω–∏–µ –ø—Ä–∏–Ω–æ—Å–∏—Ç –ª—É—á—à–∏–µ –ø–ª–æ–¥—ã",
            "–Ø —É–º–µ—é —Å–ª—É—à–∞—Ç—å –∏ –ø–æ–Ω–∏–º–∞—Ç—å"
        ],
        3: [
            "–ú–æ—ë —Ç–≤–æ—Ä—á–µ—Å—Ç–≤–æ –≤–¥–æ—Ö–Ω–æ–≤–ª—è–µ—Ç –¥—Ä—É–≥–∏—Ö",
            "–Ø –≤—ã—Ä–∞–∂–∞—é —Å–µ–±—è —Å–≤–æ–±–æ–¥–Ω–æ –∏ —Ä–∞–¥–æ—Å—Ç–Ω–æ",
            "–ö—Ä–∞—Å–æ—Ç–∞ –∏ —Ä–∞–¥–æ—Å—Ç—å –Ω–∞–ø–æ–ª–Ω—è—é—Ç –º–æ–π –¥–µ–Ω—å"
        ],
        4: [
            "–ú–æ–π —Ç—Ä—É–¥ —Å–æ–∑–¥–∞—ë—Ç –ø—Ä–æ—á–Ω—ã–π —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç",
            "–Ø —Ü–µ–Ω—é –ø–æ—Ä—è–¥–æ–∫ –∏ –¥–∏—Å—Ü–∏–ø–ª–∏–Ω—É",
            "–ö–∞–∂–¥—ã–π —à–∞–≥ –≤–µ–¥—ë—Ç –∫ –±–æ–ª—å—à–æ–π —Ü–µ–ª–∏"
        ],
        5: [
            "–Ø –æ—Ç–∫—Ä—ã—Ç –ø–µ—Ä–µ–º–µ–Ω–∞–º –∏ –Ω–æ–≤—ã–º –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è–º",
            "–°–≤–æ–±–æ–¥–∞ ‚Äî –º–æ—ë –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ",
            "–Ø –ª–µ–≥–∫–æ –∞–¥–∞–ø—Ç–∏—Ä—É—é—Å—å –∫ –Ω–æ–≤–æ–º—É"
        ],
        6: [
            "–ú–æ—è –ª—é–±–æ–≤—å –∏—Å—Ü–µ–ª—è–µ—Ç –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç",
            "–ì–∞—Ä–º–æ–Ω–∏—è —Ü–∞—Ä–∏—Ç –≤ –º–æ—ë–º –¥–æ–º–µ –∏ —Å–µ—Ä–¥—Ü–µ",
            "–Ø –∑–∞–±–æ—á—É—Å—å –æ —Å–µ–±–µ –∏ –±–ª–∏–∑–∫–∏—Ö"
        ],
        7: [
            "–ú–æ—è –∏–Ω—Ç—É–∏—Ü–∏—è –≤–µ–¥—ë—Ç –º–µ–Ω—è –≤–µ—Ä–Ω—ã–º –ø—É—Ç—ë–º",
            "–¢–∏—à–∏–Ω–∞ –¥–∞—ë—Ç –æ—Ç–≤–µ—Ç—ã –Ω–∞ –≤—Å–µ –≤–æ–ø—Ä–æ—Å—ã",
            "–Ø –¥–æ–≤–µ—Ä—è—é —Å–≤–æ–µ–π –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π –º—É–¥—Ä–æ—Å—Ç–∏"
        ],
        8: [
            "–ò–∑–æ–±–∏–ª–∏–µ —Ç–µ—á—ë—Ç –∫–æ –º–Ω–µ –ª–µ–≥–∫–æ",
            "–Ø –º—É–¥—Ä–æ —É–ø—Ä–∞–≤–ª—è—é —Å–≤–æ–∏–º–∏ —Ä–µ—Å—É—Ä—Å–∞–º–∏",
            "–£—Å–ø–µ—Ö ‚Äî –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å–ª–µ–¥—Å—Ç–≤–∏–µ –º–æ–∏—Ö –¥–µ–π—Å—Ç–≤–∏–π"
        ],
        9: [
            "–Ø –æ—Ç–ø—É—Å–∫–∞—é —Å—Ç–∞—Ä–æ–µ —Å –±–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç—å—é",
            "–ú–æ—è –º—É–¥—Ä–æ—Å—Ç—å –ø–æ–º–æ–≥–∞–µ—Ç –¥—Ä—É–≥–∏–º",
            "–Ø –∑–∞–≤–µ—Ä—à–∞—é —Ü–∏–∫–ª—ã —Å –º–∏—Ä–æ–º –≤ –¥—É—à–µ"
        ]
    };

    const dayAffirmations = affirmations[personalDay] || affirmations[1];
    return dayAffirmations[Math.floor(Math.random() * dayAffirmations.length)];
};

// ==================== –õ–Æ–ë–û–í–¨ –ò –û–¢–ù–û–®–ï–ù–ò–Ø ====================

export const getLoveAdvice = (lifePath) => {
    const advice = {
        1: {
            style: "–ù–µ–∑–∞–≤–∏—Å–∏–º—ã–π –ø–∞—Ä—Ç–Ω—ë—Ä",
            needs: "–ü—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ –¥–ª—è —Å–∞–º–æ—Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏, —É–≤–∞–∂–µ–Ω–∏–µ –∫ –∞–º–±–∏—Ü–∏—è–º",
            gives: "–ó–∞—â–∏—Ç—É, —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å, –Ω–æ–≤—ã–µ –∏–¥–µ–∏",
            challenges: "–ú–æ–∂–µ—Ç –±—ã—Ç—å —Å–ª–∏—à–∫–æ–º —Ç—Ä–µ–±–æ–≤–∞—Ç–µ–ª—å–Ω—ã–º, –∑–∞–±—ã–≤–∞—Ç—å –æ –ø–∞—Ä—Ç–Ω—ë—Ä–µ",
            bestMatch: [3, 5, 6],
            tips: "–£—á–∏—Ç–µ—Å—å —É—Å—Ç—É–ø–∞—Ç—å –∏ —Å–ª—É—à–∞—Ç—å. –ü–∞—Ä—Ç–Ω—ë—Ä ‚Äî –Ω–µ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç."
        },
        2: {
            style: "–ß—É—Ç–∫–∏–π —Ä–æ–º–∞–Ω—Ç–∏–∫",
            needs: "–≠–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—É—é –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å, –Ω–µ–∂–Ω–æ—Å—Ç—å, –≤–Ω–∏–º–∞–Ω–∏–µ –∫ –¥–µ—Ç–∞–ª—è–º",
            gives: "–ó–∞–±–æ—Ç—É, –ø–æ–Ω–∏–º–∞–Ω–∏–µ, –ø—Ä–µ–¥–∞–Ω–Ω–æ—Å—Ç—å",
            challenges: "–ú–æ–∂–µ—Ç —Ç–µ—Ä—è—Ç—å —Å–µ–±—è –≤ –æ—Ç–Ω–æ—à–µ–Ω–∏—è—Ö, –±—ã—Ç—å –æ–±–∏–¥—á–∏–≤—ã–º",
            bestMatch: [4, 6, 8],
            tips: "–ù–µ –∑–∞–±—ã–≤–∞–π—Ç–µ –æ —Å–≤–æ–∏—Ö –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç—è—Ö. –í—ã –¥–æ—Å—Ç–æ–π–Ω—ã –ª—é–±–≤–∏."
        },
        3: {
            style: "–Ø—Ä–∫–∏–π —Ä–æ–º–∞–Ω—Ç–∏–∫",
            needs: "–í–æ—Å—Ö–∏—â–µ–Ω–∏–µ, —Ç–≤–æ—Ä—á–µ—Å–∫–∏–µ —Å–æ–≤–º–µ—Å—Ç–Ω—ã–µ –∑–∞–Ω—è—Ç–∏—è, –≤–µ—Å–µ–ª—å–µ",
            gives: "–†–∞–¥–æ—Å—Ç—å, –≤–¥–æ—Ö–Ω–æ–≤–µ–Ω–∏–µ, –æ–ø—Ç–∏–º–∏–∑–º",
            challenges: "–ú–æ–∂–µ—Ç –±—ã—Ç—å –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–Ω—ã–º, –∏–∑–±–µ–≥–∞—Ç—å –≥–ª—É–±–æ–∫–∏—Ö —Ä–∞–∑–≥–æ–≤–æ—Ä–æ–≤",
            bestMatch: [1, 5, 9],
            tips: "–£—á–∏—Ç–µ—Å—å –≥–ª—É–±–∏–Ω–µ. –õ—é–±–æ–≤—å ‚Äî —ç—Ç–æ –Ω–µ —Ç–æ–ª—å–∫–æ —Ä–∞–¥–æ—Å—Ç—å."
        },
        4: {
            style: "–ù–∞–¥—ë–∂–Ω—ã–π —Å—Ç—Ä–æ–∏—Ç–µ–ª—å",
            needs: "–°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å, –≤–µ—Ä–Ω–æ—Å—Ç—å, —Å–æ–≤–º–µ—Å—Ç–Ω—ã–µ –ø–ª–∞–Ω—ã",
            gives: "–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å, –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫—É—é –ø–æ–¥–¥–µ—Ä–∂–∫—É, –ø—Ä–µ–¥–∞–Ω–Ω–æ—Å—Ç—å",
            challenges: "–ú–æ–∂–µ—Ç –±—ã—Ç—å —Å–ª–∏—à–∫–æ–º —Ä–∏–≥–∏–¥–Ω—ã–º, —Å–∫—É—á–Ω—ã–º",
            bestMatch: [2, 6, 8],
            tips: "–î–æ–±–∞–≤—å—Ç–µ —Å–ø–æ–Ω—Ç–∞–Ω–Ω–æ—Å—Ç–∏. –ü–ª–∞–Ω—ã ‚Äî –Ω–µ –≤—Å—ë."
        },
        5: {
            style: "–°–≤–æ–±–æ–¥–Ω—ã–π –∞–≤–∞–Ω—Ç—é—Ä–∏—Å—Ç",
            needs: "–°–≤–æ–±–æ–¥—É, —Ä–∞–∑–Ω–æ–æ–±—Ä–∞–∑–∏–µ, –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—É—é —Å—Ç–∏–º—É–ª—è—Ü–∏—é",
            gives: "–ü—Ä–∏–∫–ª—é—á–µ–Ω–∏—è, —Å—Ç—Ä–∞—Å—Ç—å, –Ω–æ–≤—ã–µ –≤–ø–µ—á–∞—Ç–ª–µ–Ω–∏—è",
            challenges: "–ú–æ–∂–µ—Ç –±–æ—è—Ç—å—Å—è –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤, –±—ã—Ç—å –Ω–µ–ø–æ—Å—Ç–æ—è–Ω–Ω—ã–º",
            bestMatch: [1, 3, 7],
            tips: "–û–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞ –Ω–µ –∫–ª–µ—Ç–∫–∞. –°–≤–æ–±–æ–¥–∞ ‚Äî –≤–Ω—É—Ç—Ä–∏."
        },
        6: {
            style: "–ó–∞–±–æ—Ç–ª–∏–≤—ã–π –æ–ø–µ–∫—É–Ω",
            needs: "–ë–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç—å, –≥–∞—Ä–º–æ–Ω–∏—é –≤ –¥–æ–º–µ, –∫—Ä–∞—Å–æ—Ç—É",
            gives: "–ë–µ–∑—É—Å–ª–æ–≤–Ω—É—é –ª—é–±–æ–≤—å, –∑–∞–±–æ—Ç—É, —É—é—Ç",
            challenges: "–ú–æ–∂–µ—Ç –±—ã—Ç—å –Ω–∞–≤—è–∑—á–∏–≤—ã–º, –∂–µ—Ä—Ç–≤–æ–≤–∞—Ç—å —Å–æ–±–æ–π",
            bestMatch: [1, 2, 4, 9],
            tips: "–ó–∞–±–æ—Ç–∞ –æ —Å–µ–±–µ ‚Äî –Ω–µ —ç–≥–æ–∏–∑–º. –ü–æ–ª–Ω–∞—è —á–∞—à–∞ –º–æ–∂–µ—Ç –¥–∞—Ç—å –¥—Ä—É–≥–∏–º."
        },
        7: {
            style: "–ì–ª—É–±–æ–∫–∏–π –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª",
            needs: "–ü–æ–Ω–∏–º–∞–Ω–∏–µ, –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ –¥–ª—è —Ä–∞–∑–º—ã—à–ª–µ–Ω–∏–π, –¥—É—Ö–æ–≤–Ω—É—é —Å–≤—è–∑—å",
            gives: "–ì–ª—É–±–∏–Ω—É, –º—É–¥—Ä–æ—Å—Ç—å, –≤–µ—Ä–Ω–æ—Å—Ç—å",
            challenges: "–ú–æ–∂–µ—Ç –±—ã—Ç—å —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–æ –∑–∞–∫—Ä—ã—Ç—ã–º, –æ—Ç—Å—Ç—Ä–∞–Ω—ë–Ω–Ω—ã–º",
            bestMatch: [5, 7, 9],
            tips: "–û—Ç–∫—Ä—ã–≤–∞–π—Ç–µ—Å—å. –£—è–∑–≤–∏–º–æ—Å—Ç—å ‚Äî —ç—Ç–æ —Å–∏–ª–∞."
        },
        8: {
            style: "–°–∏–ª—å–Ω—ã–π –∑–∞—â–∏—Ç–Ω–∏–∫",
            needs: "–£–≤–∞–∂–µ–Ω–∏–µ, –ø–æ–¥–¥–µ—Ä–∂–∫—É –∞–º–±–∏—Ü–∏–π, —Ä–∞–≤–Ω–æ–≥–æ –ø–∞—Ä—Ç–Ω—ë—Ä–∞",
            gives: "–°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å, –∑–∞—â–∏—Ç—É, —Å—Ç–∞—Ç—É—Å",
            challenges: "–ú–æ–∂–µ—Ç —Å—Ç–∞–≤–∏—Ç—å –∫–∞—Ä—å–µ—Ä—É –≤—ã—à–µ –æ—Ç–Ω–æ—à–µ–Ω–∏–π, –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞—Ç—å",
            bestMatch: [2, 4, 6],
            tips: "–õ—é–±–æ–≤—å –≤–∞–∂–Ω–µ–µ —É—Å–ø–µ—Ö–∞. –ù–µ –∑–∞–±—ã–≤–∞–π—Ç–µ –æ —á—É–≤—Å—Ç–≤–∞—Ö."
        },
        9: {
            style: "–ú—É–¥—Ä—ã–π –≥—É–º–∞–Ω–∏—Å—Ç",
            needs: "–ü–æ–Ω–∏–º–∞–Ω–∏–µ –≥–ª–æ–±–∞–ª—å–Ω—ã—Ö —Ü–µ–ª–µ–π, –¥—É—Ö–æ–≤–Ω—É—é —Å–≤—è–∑—å",
            gives: "–ú—É–¥—Ä–æ—Å—Ç—å, —Å–æ—Å—Ç—Ä–∞–¥–∞–Ω–∏–µ, —à–∏—Ä–æ—Ç—É –≤–∑–≥–ª—è–¥–æ–≤",
            challenges: "–ú–æ–∂–µ—Ç –±—ã—Ç—å —Å–ª–∏—à–∫–æ–º –∏–¥–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã–º, –¥–∞–ª—ë–∫–∏–º",
            bestMatch: [3, 6, 7],
            tips: "–õ—é–±–æ–≤—å –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å –æ–¥–Ω–æ–≥–æ —á–µ–ª–æ–≤–µ–∫–∞, –Ω–µ —Å–æ –≤—Å–µ–≥–æ –º–∏—Ä–∞."
        },
        11: {
            style: "–î—É—Ö–æ–≤–Ω—ã–π –ø–∞—Ä—Ç–Ω—ë—Ä",
            needs: "–ü–æ–Ω–∏–º–∞–Ω–∏–µ —Å–≤–æ–µ–π –º–∏—Å—Å–∏–∏, —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—É—é –ø–æ–¥–¥–µ—Ä–∂–∫—É",
            gives: "–í–¥–æ—Ö–Ω–æ–≤–µ–Ω–∏–µ, –∏–Ω—Ç—É–∏—Ç–∏–≤–Ω—É—é —Å–≤—è–∑—å, –≥–ª—É–±–∏–Ω—É",
            challenges: "–í—ã—Å–æ–∫–∞—è —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å, –ø–µ—Ä–µ–ø–∞–¥—ã –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—è",
            bestMatch: [2, 6, 9],
            tips: "–ó–∞–∑–µ–º–ª—è–π—Ç–µ—Å—å. –ù–µ –≤—Å–µ –ø–æ–Ω–∏–º–∞—é—Ç –≤–∞—à—É –≥–ª—É–±–∏–Ω—É ‚Äî –∏ —ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ."
        },
        22: {
            style: "–ê–º–±–∏—Ü–∏–æ–∑–Ω—ã–π —Å—Ç—Ä–æ–∏—Ç–µ–ª—å",
            needs: "–ü–∞—Ä—Ç–Ω—ë—Ä–∞, —Ä–∞–∑–¥–µ–ª—è—é—â–µ–≥–æ –≤–∏–¥–µ–Ω–∏–µ, –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫—É—é –ø–æ–¥–¥–µ—Ä–∂–∫—É",
            gives: "–ì—Ä–∞–Ω–¥–∏–æ–∑–Ω—ã–µ –ø–ª–∞–Ω—ã, —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å, –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è",
            challenges: "–ú–æ–∂–µ—Ç –±—ã—Ç—å –æ–¥–µ—Ä–∂–∏–º —Ä–∞–±–æ—Ç–æ–π, —Ç—Ä–µ–±–æ–≤–∞—Ç–µ–ª–µ–Ω",
            bestMatch: [4, 6, 8],
            tips: "–í–µ–ª–∏–∫–∏–µ –¥–µ–ª–∞ –±–µ–∑ –ª—é–±–≤–∏ ‚Äî –ø—É—Å—Ç—ã."
        },
        33: {
            style: "–ú–∞—Å—Ç–µ—Ä –ª—é–±–≤–∏",
            needs: "–ì–ª—É–±–æ–∫—É—é –¥—É—Ö–æ–≤–Ω—É—é —Å–≤—è–∑—å, —Å–≤–æ–±–æ–¥—É —Å–ª—É–∂–∏—Ç—å",
            gives: "–ë–µ–∑—É—Å–ª–æ–≤–Ω—É—é –ª—é–±–æ–≤—å, –∏—Å—Ü–µ–ª–µ–Ω–∏–µ, –≤–¥–æ—Ö–Ω–æ–≤–µ–Ω–∏–µ",
            challenges: "–ú–æ–∂–µ—Ç –Ω–µ—Å—Ç–∏ —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –∑–∞ –¥—Ä—É–≥–∏—Ö",
            bestMatch: [6, 9, 11],
            tips: "–í—ã –Ω–µ –æ–±—è–∑–∞–Ω—ã —Å–ø–∞—Å–∞—Ç—å –≤—Å–µ—Ö. –õ—é–±–∏—Ç–µ —Å–µ–±—è."
        }
    };
    return advice[lifePath] || advice[9];
};

// ==================== –§–ò–ù–ê–ù–°–û–í–´–ô –ü–†–û–§–ò–õ–¨ ====================

export const getFinancialProfile = (lifePath, matrix) => {
    const profiles = {
        1: { style: "–ü—Ä–µ–¥–ø—Ä–∏–Ω–∏–º–∞—Ç–µ–ª—å", strength: "–°–æ–∑–¥–∞—ë—Ç–µ –Ω–æ–≤—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –¥–æ—Ö–æ–¥–∞", weakness: "–ò–º–ø—É–ª—å—Å–∏–≤–Ω—ã–µ —Ç—Ä–∞—Ç—ã", advice: "–î–µ–ª–µ–≥–∏—Ä—É–π—Ç–µ —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å" },
        2: { style: "–ü–∞—Ä—Ç–Ω—ë—Ä", strength: "–í—ã–≥–æ–¥–Ω—ã–µ —Å–æ–≤–º–µ—Å—Ç–Ω—ã–µ –ø—Ä–æ–µ–∫—Ç—ã", weakness: "–°–ª–æ–∂–Ω–æ –ø—Ä–æ—Å–∏—Ç—å –ø–æ–≤—ã—à–µ–Ω–∏–µ", advice: "–£—á–∏—Ç–µ—Å—å –æ–∑–≤—É—á–∏–≤–∞—Ç—å —Å–≤–æ—é —Ü–µ–Ω–Ω–æ—Å—Ç—å" },
        3: { style: "–¢–≤–æ—Ä–µ—Ü", strength: "–î–æ—Ö–æ–¥ –æ—Ç —Ç–≤–æ—Ä—á–µ—Å—Ç–≤–∞", weakness: "–ù–µ—Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å", advice: "–°–æ–∑–¥–∞–π—Ç–µ –ø–∞—Å—Å–∏–≤–Ω—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏" },
        4: { style: "–ù–∞–∫–æ–ø–∏—Ç–µ–ª—å", strength: "–î–∏—Å—Ü–∏–ø–ª–∏–Ω–∞, –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ", weakness: "–°—Ç—Ä–∞—Ö —Ä–∏—Å–∫–æ–≤", advice: "–†–∞–∑—Ä–µ—à–∏—Ç–µ —Å–µ–±–µ —É–º–µ—Ä–µ–Ω–Ω—ã–π —Ä–∏—Å–∫" },
        5: { style: "–ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π", strength: "–ú–Ω–æ–≥–æ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –¥–æ—Ö–æ–¥–∞", weakness: "–ù–µ–ø–æ—Å—Ç–æ—è–Ω—Å—Ç–≤–æ", advice: "–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä—É–π—Ç–µ —Å–±–µ—Ä–µ–∂–µ–Ω–∏—è" },
        6: { style: "–°–µ–º–µ–π–Ω—ã–π", strength: "–î–æ—Ö–æ–¥ –¥–ª—è –±–ª–∏–∑–∫–∏—Ö", weakness: "–ñ–µ—Ä—Ç–≤—É–µ—Ç —Å–≤–æ–∏–º–∏ –∏–Ω—Ç–µ—Ä–µ—Å–∞–º–∏", advice: "–í–∞—à–µ –±–ª–∞–≥–æ–ø–æ–ª—É—á–∏–µ –≤–∞–∂–Ω–æ" },
        7: { style: "–ê–Ω–∞–ª–∏—Ç–∏–∫", strength: "–£–º–Ω—ã–µ –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–∏", weakness: "–û—Ç–∫–ª–∞–¥—ã–≤–∞–µ—Ç –¥–µ–π—Å—Ç–≤–∏—è", advice: "–ê–Ω–∞–ª–∏–∑ –±–µ–∑ –¥–µ–π—Å—Ç–≤–∏—è –±–µ—Å–ø–æ–ª–µ–∑–µ–Ω" },
        8: { style: "–ú–∞–≥–Ω–∞—Ç", strength: "–ü—Ä–∏—Ä–æ–¥–Ω—ã–π —Ç–∞–ª–∞–Ω—Ç –∫ –¥–µ–Ω—å–≥–∞–º", weakness: "–û–¥–µ—Ä–∂–∏–º–æ—Å—Ç—å", advice: "–î–µ–Ω—å–≥–∏ ‚Äî —Å—Ä–µ–¥—Å—Ç–≤–æ, –Ω–µ —Ü–µ–ª—å" },
        9: { style: "–§–∏–ª–∞–Ω—Ç—Ä–æ–ø", strength: "–î–µ–Ω—å–≥–∏ –ø—Ä–∏—Ö–æ–¥—è—Ç —á–µ—Ä–µ–∑ —Å–ª—É–∂–µ–Ω–∏–µ", weakness: "–û—Ç–¥–∞—ë—Ç —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ", advice: "–°–Ω–∞—á–∞–ª–∞ –Ω–∞–¥–µ–Ω—å—Ç–µ –º–∞—Å–∫—É –Ω–∞ —Å–µ–±—è" }
    };

    const base = profiles[lifePath > 9 ? reduceToSingle(lifePath) : lifePath] || profiles[5];

    // –î–æ–ø–æ–ª–Ω–µ–Ω–∏—è –ø–æ –º–∞—Ç—Ä–∏—Ü–µ
    const additions = [];
    if (matrix[4] >= 3 && matrix[8] >= 2) additions.push("–í—ã—Å–æ–∫–∏–π –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª –º–∞—Ç–µ—Ä–∏–∞–ª—å–Ω–æ–≥–æ —É—Å–ø–µ—Ö–∞");
    if (matrix[2] < 2) additions.push("–í–∞–∂–Ω–æ –±–µ—Ä–µ—á—å —ç–Ω–µ—Ä–≥–∏—é ‚Äî –æ–Ω–∞ –≤–∞—à –∫–∞–ø–∏—Ç–∞–ª");
    if (matrix[5] >= 3) additions.push("–°–∏–ª—å–Ω–∞—è –ª–æ–≥–∏–∫–∞ –ø–æ–º–æ–∂–µ—Ç –≤ –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏—è—Ö");

    return { ...base, additions };
};

// ==================== –ú–ò–°–°–ò–Ø –î–£–®–ò ====================

export const getSoulMission = (lifePath, expressionNum, soulUrgeNum) => {
    const lifePathBase = lifePath > 9 ? reduceToSingle(lifePath) : lifePath;

    const missions = {
        1: "–ù–∞—É—á–∏—Ç—å—Å—è –±—ã—Ç—å –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–º –ª–∏–¥–µ—Ä–æ–º, –≤–¥–æ—Ö–Ω–æ–≤–ª—è—é—â–∏–º –¥—Ä—É–≥–∏—Ö —Å–≤–æ–∏–º –ø—Ä–∏–º–µ—Ä–æ–º",
        2: "–û—Å–≤–æ–∏—Ç—å –∏—Å–∫—É—Å—Å—Ç–≤–æ –ø–∞—Ä—Ç–Ω—ë—Ä—Å—Ç–≤–∞ –∏ —Å–æ–∑–¥–∞–Ω–∏—è –≥–∞—Ä–º–æ–Ω–∏–∏ –º–µ–∂–¥—É –ª—é–¥—å–º–∏",
        3: "–ù–µ—Å—Ç–∏ —Ä–∞–¥–æ—Å—Ç—å –∏ –∫—Ä–∞—Å–æ—Ç—É –≤ –º–∏—Ä —á–µ—Ä–µ–∑ —Ç–≤–æ—Ä—á–µ—Å–∫–æ–µ —Å–∞–º–æ–≤—ã—Ä–∞–∂–µ–Ω–∏–µ",
        4: "–°—Ç—Ä–æ–∏—Ç—å –Ω–∞–¥—ë–∂–Ω—ã–µ —Å–∏—Å—Ç–µ–º—ã –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã, —Å–ª—É–∂–∞—â–∏–µ –ø–æ–∫–æ–ª–µ–Ω–∏—è–º",
        5: "–ë—ã—Ç—å –∞–≥–µ–Ω—Ç–æ–º –ø—Ä–æ–≥—Ä–µ—Å—Å–∞, –ø—Ä–∏–Ω–æ—Å—è —Å–≤–æ–±–æ–¥—É –∏ –ø–µ—Ä–µ–º–µ–Ω—ã —Ç—É–¥–∞, –≥–¥–µ –æ–Ω–∏ –Ω—É–∂–Ω—ã",
        6: "–°–ª—É–∂–∏—Ç—å —á–µ—Ä–µ–∑ –ª—é–±–æ–≤—å, —Å–æ–∑–¥–∞–≤–∞—è –≥–∞—Ä–º–æ–Ω–∏—é –≤ —Å–µ–º—å–µ –∏ –æ–±—â–µ—Å—Ç–≤–µ",
        7: "–ò—Å–∫–∞—Ç—å –∏ –Ω–µ—Å—Ç–∏ –≥–ª—É–±–∏–Ω–Ω—É—é –∏—Å—Ç–∏–Ω—É, —Å–æ–µ–¥–∏–Ω—è—è –¥—É—Ö–æ–≤–Ω–æ–µ –∏ –º–∞—Ç–µ—Ä–∏–∞–ª—å–Ω–æ–µ",
        8: "–û—Å–≤–æ–∏—Ç—å –∑–∞–∫–æ–Ω—ã –º–∞—Ç–µ—Ä–∏–∞–ª—å–Ω–æ–≥–æ –º–∏—Ä–∞ –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–∏–ª—É –≤–æ –±–ª–∞–≥–æ",
        9: "–ó–∞–≤–µ—Ä—à–∏—Ç—å —Ü–∏–∫–ª –¥—É—à–µ–≤–Ω–æ–≥–æ —Ä–∞–∑–≤–∏—Ç–∏—è, –æ—Ç–¥–∞–≤–∞—è –Ω–∞–∫–æ–ø–ª–µ–Ω–Ω—É—é –º—É–¥—Ä–æ—Å—Ç—å –º–∏—Ä—É"
    };

    let mission = missions[lifePathBase] || "–°–ª–µ–¥–æ–≤–∞—Ç—å —É–Ω–∏–∫–∞–ª—å–Ω–æ–º—É –ø—É—Ç–∏ –¥—É—à–∏";

    // –ú–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è –ø–æ –¥—Ä—É–≥–∏–º —á–∏—Å–ª–∞–º
    if (expressionNum === 11 || soulUrgeNum === 11) {
        mission += ". –û—Å–æ–±–∞—è –º–∏—Å—Å–∏—è ‚Äî –±—ã—Ç—å –¥—É—Ö–æ–≤–Ω—ã–º –ø—Ä–æ–≤–æ–¥–Ω–∏–∫–æ–º.";
    }
    if (expressionNum === 22 || soulUrgeNum === 22) {
        mission += ". –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ: –≤–æ–ø–ª–æ—â–∞—Ç—å –≥—Ä–∞–Ω–¥–∏–æ–∑–Ω—ã–µ –ø—Ä–æ–µ–∫—Ç—ã –¥–ª—è —á–µ–ª–æ–≤–µ—á–µ—Å—Ç–≤–∞.";
    }

    return mission;
};

// ==================== –°–û–í–ú–ï–°–¢–ò–ú–û–°–¢–¨ –î–í–£–• –õ–Æ–î–ï–ô ====================

/**
 * –†–∞—Å—á—ë—Ç —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ –ø–æ –ß–∏—Å–ª–∞–º –ñ–∏–∑–Ω–µ–Ω–Ω–æ–≥–æ –ü—É—Ç–∏
 * –û—Å–Ω–æ–≤–∞–Ω–æ –Ω–∞ –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–æ–π –Ω—É–º–µ—Ä–æ–ª–æ–≥–∏–∏ (–î—ç–≤–∏–¥ –§–∏–ª–ª–∏–ø—Å, "The Complete Book of Numerology")
 */
export const calculateFullCompatibility = (birthDate1, birthDate2) => {
    const lp1 = calculateLifePathNumber(birthDate1);
    const lp2 = calculateLifePathNumber(birthDate2);

    // –ú–∞—Ç—Ä–∏—Ü–∞ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ (–ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤)
    const compatibilityMatrix = {
        1: { 1: 65, 2: 70, 3: 90, 4: 55, 5: 95, 6: 75, 7: 85, 8: 70, 9: 80 },
        2: { 1: 70, 2: 80, 3: 75, 4: 90, 5: 50, 6: 95, 7: 70, 8: 85, 9: 80 },
        3: { 1: 90, 2: 75, 3: 85, 4: 50, 5: 95, 6: 90, 7: 60, 8: 55, 9: 90 },
        4: { 1: 55, 2: 90, 3: 50, 4: 80, 5: 40, 6: 85, 7: 75, 8: 95, 9: 55 },
        5: { 1: 95, 2: 50, 3: 95, 4: 40, 5: 75, 6: 45, 7: 90, 8: 55, 9: 85 },
        6: { 1: 75, 2: 95, 3: 90, 4: 85, 5: 45, 6: 85, 7: 55, 8: 70, 9: 95 },
        7: { 1: 85, 2: 70, 3: 60, 4: 75, 5: 90, 6: 55, 7: 90, 8: 60, 9: 75 },
        8: { 1: 70, 2: 85, 3: 55, 4: 95, 5: 55, 6: 70, 7: 60, 8: 80, 9: 65 },
        9: { 1: 80, 2: 80, 3: 90, 4: 55, 5: 85, 6: 95, 7: 75, 8: 65, 9: 70 }
    };

    // –ü—Ä–∏–≤–æ–¥–∏–º –º–∞—Å—Ç–µ—Ä-—á–∏—Å–ª–∞ –∫ –±–∞–∑–æ–≤—ã–º –¥–ª—è –º–∞—Ç—Ä–∏—Ü—ã
    const base1 = lp1 > 9 ? reduceToSingle(lp1) : lp1;
    const base2 = lp2 > 9 ? reduceToSingle(lp2) : lp2;

    const baseScore = compatibilityMatrix[base1]?.[base2] || 70;

    // –ë–æ–Ω—É—Å—ã –∑–∞ –º–∞—Å—Ç–µ—Ä-—á–∏—Å–ª–∞
    let bonus = 0;
    if (lp1 === 11 || lp2 === 11) bonus += 5;
    if (lp1 === 22 || lp2 === 22) bonus += 5;
    if (lp1 === lp2) bonus += 10; // –û–¥–∏–Ω–∞–∫–æ–≤—ã–µ —á–∏—Å–ª–∞ –ø–æ–Ω–∏–º–∞—é—Ç –¥—Ä—É–≥ –¥—Ä—É–≥–∞

    const finalScore = Math.min(100, baseScore + bonus);

    return {
        person1: { lifePath: lp1 },
        person2: { lifePath: lp2 },
        score: finalScore,
        analysis: getCompatibilityAnalysis(lp1, lp2, finalScore)
    };
};

const getCompatibilityAnalysis = (lp1, lp2, score) => {
    let level, summary;

    if (score >= 90) {
        level = "–ò–¥–µ–∞–ª—å–Ω–∞—è";
        summary = "–†–µ–¥–∫–∞—è –≥–∞—Ä–º–æ–Ω–∏—è! –í—ã –¥–æ–ø–æ–ª–Ω—è–µ—Ç–µ –∏ —É—Å–∏–ª–∏–≤–∞–µ—Ç–µ –¥—Ä—É–≥ –¥—Ä—É–≥–∞.";
    } else if (score >= 75) {
        level = "–í—ã—Å–æ–∫–∞—è";
        summary = "–•–æ—Ä–æ—à–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—ã–º –≤–∑–∞–∏–º–æ–ø–æ–Ω–∏–º–∞–Ω–∏–µ–º.";
    } else if (score >= 60) {
        level = "–°—Ä–µ–¥–Ω—è—è";
        summary = "–í–æ–∑–º–æ–∂–Ω—ã –æ—Ç–Ω–æ—à–µ–Ω–∏—è –ø—Ä–∏ –≤–∑–∞–∏–º–Ω–æ–π —Ä–∞–±–æ—Ç–µ –∏ —Ç–µ—Ä–ø–µ–Ω–∏–∏.";
    } else if (score >= 45) {
        level = "–°–ª–æ–∂–Ω–∞—è";
        summary = "–ú–Ω–æ–≥–æ —Ä–∞–∑–ª–∏—á–∏–π. –ü–æ—Ç—Ä–µ–±—É—é—Ç—Å—è —Å–µ—Ä—å—ë–∑–Ω—ã–µ —É—Å–∏–ª–∏—è.";
    } else {
        level = "–û—á–µ–Ω—å —Å–ª–æ–∂–Ω–∞—è";
        summary = "–ö–∞—Ä–¥–∏–Ω–∞–ª—å–Ω–æ —Ä–∞–∑–Ω—ã–µ —ç–Ω–µ—Ä–≥–∏–∏. –†–µ–¥–∫–æ —É—Å–ø–µ—à–Ω—ã–π —Å–æ—é–∑.";
    }

    // –î–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –ø–æ –ø–∞—Ä–∞–º
    const pairAnalysis = {
        "1-1": { strength: "–í–∑–∞–∏–º–Ω–æ–µ —É–≤–∞–∂–µ–Ω–∏–µ –∞–º–±–∏—Ü–∏–π", challenge: "–ë–æ—Ä—å–±–∞ –∑–∞ –ª–∏–¥–µ—Ä—Å—Ç–≤–æ", tip: "–†–∞–∑–¥–µ–ª–∏—Ç–µ —Å—Ñ–µ—Ä—ã –≤–ª–∏—è–Ω–∏—è" },
        "1-2": { strength: "–ë–∞–ª–∞–Ω—Å —Å–∏–ª—ã –∏ –º—è–≥–∫–æ—Å—Ç–∏", challenge: "1 –º–æ–∂–µ—Ç –ø–æ–¥–∞–≤–ª—è—Ç—å 2", tip: "–ï–¥–∏–Ω–∏—Ü–µ ‚Äî —É—á–∏—Ç—å—Å—è —Å–ª—É—à–∞—Ç—å" },
        "1-3": { strength: "–¢–≤–æ—Ä—á–µ—Å–∫–∏–π —ç–Ω—Ç—É–∑–∏–∞–∑–º", challenge: "–û–±–∞ —Ö–æ—Ç—è—Ç –≤–Ω–∏–º–∞–Ω–∏—è", tip: "–ß–µ—Ä–µ–¥—É–π—Ç–µ —Ü–µ–Ω—Ç—Ä –≤–Ω–∏–º–∞–Ω–∏—è" },
        "1-5": { strength: "–ñ–∞–∂–¥–∞ –ø—Ä–∏–∫–ª—é—á–µ–Ω–∏–π", challenge: "–ù–∏–∫—Ç–æ –Ω–µ —Ö–æ—á–µ—Ç —É—Å—Ç—É–ø–∞—Ç—å", tip: "–î–∞–π—Ç–µ –¥—Ä—É–≥ –¥—Ä—É–≥—É —Å–≤–æ–±–æ–¥—É" },
        "2-4": { strength: "–°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å –∏ –≥–∞—Ä–º–æ–Ω–∏—è", challenge: "–ú–æ–∂–µ—Ç –±—ã—Ç—å —Å–∫—É—á–Ω–æ", tip: "–î–æ–±–∞–≤—å—Ç–µ —Å–ø–æ–Ω—Ç–∞–Ω–Ω–æ—Å—Ç–∏" },
        "2-6": { strength: "–ì–ª—É–±–æ–∫–∞—è –ª—é–±–æ–≤—å –∏ –∑–∞–±–æ—Ç–∞", challenge: "–°–æ–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å", tip: "–°–æ—Ö—Ä–∞–Ω—è–π—Ç–µ –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ—Å—Ç—å" },
        "3-5": { strength: "–í–µ—Å–µ–ª—å–µ –∏ –ø—Ä–∏–∫–ª—é—á–µ–Ω–∏—è", challenge: "–ù–µ—Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å", tip: "–°–æ–∑–¥–∞–π—Ç–µ –æ–±—â–∏–µ —Ä–∏—Ç—É–∞–ª—ã" },
        "3-6": { strength: "–¢–≤–æ—Ä—á–µ—Å—Ç–≤–æ –∏ –∫—Ä–∞—Å–æ—Ç–∞", challenge: "3 –º–æ–∂–µ—Ç –±—ã—Ç—å –ª–µ–≥–∫–æ–º—ã—Å–ª–µ–Ω–Ω—ã–º", tip: "–®–µ—Å—Ç—ë—Ä–∫–µ ‚Äî –Ω–µ –±—ã—Ç—å –º–∞—Ç–µ—Ä—å—é" },
        "4-8": { strength: "–ú–∞—Ç–µ—Ä–∏–∞–ª—å–Ω—ã–π —É—Å–ø–µ—Ö", challenge: "–†–∞–±–æ—Ç–∞ –≤–∞–∂–Ω–µ–µ –ª—é–±–≤–∏", tip: "–ü–ª–∞–Ω–∏—Ä—É–π—Ç–µ –≤—Ä–µ–º—è –¥–ª—è —á—É–≤—Å—Ç–≤" },
        "6-9": { strength: "–°–ª—É–∂–µ–Ω–∏–µ –∏ –ª—é–±–æ–≤—å", challenge: "–û–±–∞ –∂–µ—Ä—Ç–≤—É—é—Ç —Å–æ–±–æ–π", tip: "–£—á–∏—Ç–µ—Å—å –ø—Ä–∏–Ω–∏–º–∞—Ç—å –ø–æ–º–æ—â—å" },
        "7-7": { strength: "–ì–ª—É–±–æ–∫–æ–µ –ø–æ–Ω–∏–º–∞–Ω–∏–µ", challenge: "–ò–∑–æ–ª—è—Ü–∏—è –æ—Ç –º–∏—Ä–∞", tip: "–í—ã—Ö–æ–¥–∏—Ç–µ –≤ —Å–æ—Ü–∏—É–º –≤–º–µ—Å—Ç–µ" }
    };

    const key = `${Math.min(lp1, lp2)}-${Math.max(lp1, lp2)}`;
    const pair = pairAnalysis[key] || {
        strength: "–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —É—á–∏—Ç—å—Å—è –¥—Ä—É–≥ —É –¥—Ä—É–≥–∞",
        challenge: "–†–∞–∑–Ω—ã–µ –≤–∑–≥–ª—è–¥—ã –Ω–∞ –∂–∏–∑–Ω—å",
        tip: "–†–∞–∑–≤–∏–≤–∞–π—Ç–µ —Ç–µ—Ä–ø–µ–Ω–∏–µ –∏ –ø—Ä–∏–Ω—è—Ç–∏–µ"
    };

    return { level, summary, ...pair };
};

// ==================== –ü–†–û–ì–ù–û–ó –ù–ê –ì–û–î (12 –ú–ï–°–Ø–¶–ï–í) ====================

/**
 * –ì–æ–¥–æ–≤–æ–π –ø—Ä–æ–≥–Ω–æ–∑ –ø–æ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–º –º–µ—Å—è—Ü–∞–º
 * –û—Å–Ω–æ–≤–∞–Ω–æ –Ω–∞ —Å–∏—Å—Ç–µ–º–µ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö —Ü–∏–∫–ª–æ–≤
 */
export const getYearForecast = (birthDate, year) => {
    const [, birthMonth, birthDay] = birthDate.split('-').map(Number);
    const personalYear = calculatePersonalYear(birthDate, year);

    const months = [];
    const monthNames = [
        '–Ø–Ω–≤–∞—Ä—å', '–§–µ–≤—Ä–∞–ª—å', '–ú–∞—Ä—Ç', '–ê–ø—Ä–µ–ª—å', '–ú–∞–π', '–ò—é–Ω—å',
        '–ò—é–ª—å', '–ê–≤–≥—É—Å—Ç', '–°–µ–Ω—Ç—è–±—Ä—å', '–û–∫—Ç—è–±—Ä—å', '–ù–æ—è–±—Ä—å', '–î–µ–∫–∞–±—Ä—å'
    ];

    for (let m = 1; m <= 12; m++) {
        const personalMonth = reduceToSingle(personalYear + m);
        const forecast = getMonthForecast(personalMonth, m);

        months.push({
            month: m,
            name: monthNames[m - 1],
            personalMonth,
            ...forecast
        });
    }

    return {
        year,
        personalYear,
        yearTheme: getPersonalCycleMeaning(personalYear),
        months
    };
};

const getMonthForecast = (personalMonth, calendarMonth) => {
    const forecasts = {
        1: {
            theme: "–ù–æ–≤—ã–µ –Ω–∞—á–∏–Ω–∞–Ω–∏—è",
            energy: "high",
            focus: ["–ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–æ–≤", "–ü—Ä–∏–Ω—è—Ç–∏–µ —Ä–µ—à–µ–Ω–∏–π", "–õ–∏–¥–µ—Ä—Å—Ç–≤–æ"],
            avoid: ["–ü–∞—Å—Å–∏–≤–Ω–æ—Å—Ç—å", "–û–∂–∏–¥–∞–Ω–∏–µ"],
            advice: "–î–µ–π—Å—Ç–≤—É–π—Ç–µ —Å–º–µ–ª–æ. –≠—Ç–æ –≤—Ä–µ–º—è —Å–µ—è—Ç—å —Å–µ–º–µ–Ω–∞ –±—É–¥—É—â–µ–≥–æ."
        },
        2: {
            theme: "–°–æ—Ç—Ä—É–¥–Ω–∏—á–µ—Å—Ç–≤–æ",
            energy: "medium",
            focus: ["–ü–∞—Ä—Ç–Ω—ë—Ä—Å—Ç–≤–∞", "–ü–µ—Ä–µ–≥–æ–≤–æ—Ä—ã", "–¢–µ—Ä–ø–µ–Ω–∏–µ"],
            avoid: ["–¢–æ—Ä–æ–ø–ª–∏–≤–æ—Å—Ç—å", "–ö–æ–Ω—Ñ–ª–∏–∫—Ç—ã"],
            advice: "–†–∞–∑–≤–∏–≤–∞–π—Ç–µ –æ—Ç–Ω–æ—à–µ–Ω–∏—è. –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø—Ä–∏–¥—É—Ç —á–µ—Ä–µ–∑ –¥—Ä—É–≥–∏—Ö."
        },
        3: {
            theme: "–°–∞–º–æ–≤—ã—Ä–∞–∂–µ–Ω–∏–µ",
            energy: "high",
            focus: ["–¢–≤–æ—Ä—á–µ—Å—Ç–≤–æ", "–û–±—â–µ–Ω–∏–µ", "–†–∞–¥–æ—Å—Ç—å"],
            avoid: ["–†–∞–∑–±—Ä–∞—Å—ã–≤–∞–Ω–∏–µ", "–°–ø–ª–µ—Ç–Ω–∏"],
            advice: "–¢–≤–æ—Ä–∏—Ç–µ –∏ –æ–±—â–∞–π—Ç–µ—Å—å. –í–∞—à–∏ –∏–¥–µ–∏ –Ω–∞–π–¥—É—Ç –æ—Ç–∫–ª–∏–∫."
        },
        4: {
            theme: "–°—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–æ",
            energy: "medium",
            focus: ["–û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è", "–ü–æ—Ä—è–¥–æ–∫", "–†–∞–±–æ—Ç–∞"],
            avoid: ["–õ–µ–Ω—å", "–•–∞–æ—Å"],
            advice: "–í—Ä–µ–º—è —É–ø–æ—Ä–Ω–æ–≥–æ —Ç—Ä—É–¥–∞. –ó–∞–∫–ª–∞–¥—ã–≤–∞–π—Ç–µ —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç."
        },
        5: {
            theme: "–ü–µ—Ä–µ–º–µ–Ω—ã",
            energy: "high",
            focus: ["–ü—É—Ç–µ—à–µ—Å—Ç–≤–∏—è", "–ù–æ–≤—ã–π –æ–ø—ã—Ç", "–ì–∏–±–∫–æ—Å—Ç—å"],
            avoid: ["–†—É—Ç–∏–Ω–∞", "–£–ø—Ä—è–º—Å—Ç–≤–æ"],
            advice: "–ü—Ä–∏–º–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω—ã. –û–Ω–∏ –≤–µ–¥—É—Ç –∫ —Ä–æ—Å—Ç—É."
        },
        6: {
            theme: "–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å",
            energy: "medium",
            focus: ["–°–µ–º—å—è", "–î–æ–º", "–ó–∞–±–æ—Ç–∞"],
            avoid: ["–ü—Ä–µ–Ω–µ–±—Ä–µ–∂–µ–Ω–∏–µ –±–ª–∏–∑–∫–∏–º–∏"],
            advice: "–£–¥–µ–ª–∏—Ç–µ –≤—Ä–µ–º—è –±–ª–∏–∑–∫–∏–º. –°–æ–∑–¥–∞–π—Ç–µ –≥–∞—Ä–º–æ–Ω–∏—é –¥–æ–º–∞."
        },
        7: {
            theme: "–°–∞–º–æ–ø–æ–∑–Ω–∞–Ω–∏–µ",
            energy: "low",
            focus: ["–ê–Ω–∞–ª–∏–∑", "–û–±—É—á–µ–Ω–∏–µ", "–î—É—Ö–æ–≤–Ω–æ—Å—Ç—å"],
            avoid: ["–°—É–µ—Ç–∞", "–ü–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–Ω–æ—Å—Ç—å"],
            advice: "–ó–∞–º–µ–¥–ª–∏—Ç–µ—Å—å. –ò—â–∏—Ç–µ –æ—Ç–≤–µ—Ç—ã –≤–Ω—É—Ç—Ä–∏."
        },
        8: {
            theme: "–î–æ—Å—Ç–∏–∂–µ–Ω–∏—è",
            energy: "high",
            focus: ["–ö–∞—Ä—å–µ—Ä–∞", "–§–∏–Ω–∞–Ω—Å—ã", "–í–ª–∞—Å—Ç—å"],
            avoid: ["–ú–µ–ª–∫–∏–µ –¥–µ–ª–∞", "–ù–µ—Ä–µ—à–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å"],
            advice: "–í—Ä–µ–º—è –ø–æ–∂–∏–Ω–∞—Ç—å –ø–ª–æ–¥—ã. –î–µ–π—Å—Ç–≤—É–π—Ç–µ –º–∞—Å—à—Ç–∞–±–Ω–æ."
        },
        9: {
            theme: "–ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ",
            energy: "medium",
            focus: ["–ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ –¥–µ–ª", "–û—Ç–ø—É—Å–∫–∞–Ω–∏–µ", "–ë–ª–∞–≥–æ—Ç–≤–æ—Ä–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å"],
            avoid: ["–ù–æ–≤—ã–µ –Ω–∞—á–∏–Ω–∞–Ω–∏—è", "–ü—Ä–∏–≤—è–∑–∞–Ω–Ω–æ—Å—Ç—å –∫ —Å—Ç–∞—Ä–æ–º—É"],
            advice: "–ó–∞–∫—Ä–æ–π—Ç–µ —Ü–∏–∫–ª—ã. –û—Å–≤–æ–±–æ–¥–∏—Ç–µ –º–µ—Å—Ç–æ –¥–ª—è –Ω–æ–≤–æ–≥–æ."
        }
    };

    return forecasts[personalMonth] || forecasts[1];
};

// ==================== –£–î–ê–ß–ù–´–ï –î–ê–¢–´ ====================

/**
 * –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –±–ª–∞–≥–æ–ø—Ä–∏—è—Ç–Ω—ã—Ö –¥–∞—Ç
 * –û—Å–Ω–æ–≤–∞–Ω–æ –Ω–∞ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ –ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–æ–≥–æ –î–Ω—è –∏ –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ–≥–æ –î–Ω—è
 */
export const calculateLuckyDates = (birthDate, year, month) => {
    const results = [];
    const daysInMonth = new Date(year, month, 0).getDate();

    for (let day = 1; day <= daysInMonth; day++) {
        const dateStr = `${year}-${String(month).padStart(2, '0')}-${String(day).padStart(2, '0')}`;

        // –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –¥–µ–Ω—å (—Å—É–º–º–∞ –≤—Å–µ—Ö —Ü–∏—Ñ—Ä –¥–∞—Ç—ã)
        const universalDay = reduceToSingle(year + month + day);

        // –ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π –¥–µ–Ω—å
        const personalDay = calculatePersonalDay(birthDate, dateStr);

        // –û—Ü–µ–Ω–∫–∞ –±–ª–∞–≥–æ–ø—Ä–∏—è—Ç–Ω–æ—Å—Ç–∏
        const rating = calculateDateRating(personalDay, universalDay);

        results.push({
            date: dateStr,
            day,
            dayOfWeek: new Date(year, month - 1, day).toLocaleDateString('ru-RU', { weekday: 'short' }),
            personalDay,
            universalDay,
            rating: rating.score,
            type: rating.type,
            activities: rating.activities
        });
    }

    return results;
};

const calculateDateRating = (personalDay, universalDay) => {
    // –ë–ª–∞–≥–æ–ø—Ä–∏—è—Ç–Ω—ã–µ –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏ –ø–æ –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–æ–π –Ω—É–º–µ—Ä–æ–ª–æ–≥–∏–∏
    const harmonious = [
        [1, 1], [1, 5], [1, 9],
        [2, 2], [2, 4], [2, 6],
        [3, 3], [3, 6], [3, 9],
        [4, 4], [4, 8],
        [5, 5], [5, 7],
        [6, 6], [6, 9],
        [7, 7],
        [8, 8],
        [9, 9]
    ];

    const isHarmonious = harmonious.some(([a, b]) =>
        (personalDay === a && universalDay === b) ||
        (personalDay === b && universalDay === a)
    );

    // –í—ã—á–∏—Å–ª–µ–Ω–∏–µ —Ä–µ–π—Ç–∏–Ω–≥–∞
    let score, type;
    if (personalDay === universalDay) {
        score = 95;
        type = "perfect";
    } else if (isHarmonious) {
        score = 85;
        type = "excellent";
    } else if (Math.abs(personalDay - universalDay) <= 2) {
        score = 70;
        type = "good";
    } else {
        score = 50;
        type = "neutral";
    }

    // –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—è–º
    const activities = getActivitiesForDay(personalDay);

    return { score, type, activities };
};

const getActivitiesForDay = (personalDay) => {
    const activities = {
        1: ["–ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–æ–≤", "–í–∞–∂–Ω—ã–µ –≤—Å—Ç—Ä–µ—á–∏", "–†–µ—à–µ–Ω–∏—è"],
        2: ["–ü–µ—Ä–µ–≥–æ–≤–æ—Ä—ã", "–°–≤–∏–¥–∞–Ω–∏—è", "–ö–æ–Ω—Ç—Ä–∞–∫—Ç—ã"],
        3: ["–¢–≤–æ—Ä—á–µ—Å—Ç–≤–æ", "–ü—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–∏", "–ü—Ä–∞–∑–¥–Ω–∏–∫–∏"],
        4: ["–ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ", "–†–µ–º–æ–Ω—Ç", "–î–æ–∫—É–º–µ–Ω—Ç—ã"],
        5: ["–ü—É—Ç–µ—à–µ—Å—Ç–≤–∏—è", "–ü–µ—Ä–µ–º–µ–Ω—ã", "–†–µ–∫–ª–∞–º–∞"],
        6: ["–°–µ–º—å—è", "–ü–æ–∫—É–ø–∫–∏ –¥–ª—è –¥–æ–º–∞", "–°–≤–∞–¥—å–±–∞"],
        7: ["–û–±—É—á–µ–Ω–∏–µ", "–ê–Ω–∞–ª–∏–∑", "–ú–µ–¥–∏—Ç–∞—Ü–∏—è"],
        8: ["–§–∏–Ω–∞–Ω—Å—ã", "–ö–∞—Ä—å–µ—Ä–∞", "–ò–Ω–≤–µ—Å—Ç–∏—Ü–∏–∏"],
        9: ["–ë–ª–∞–≥–æ—Ç–≤–æ—Ä–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å", "–ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ –¥–µ–ª", "–ò—Å–∫—É—Å—Å—Ç–≤–æ"]
    };
    return activities[personalDay] || activities[1];
};

// ==================== –ì–û–†–û–°–ö–û–ü –ù–ê –°–ï–ì–û–î–ù–Ø ====================

/**
 * –ù—É–º–µ—Ä–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π –ø—Ä–æ–≥–Ω–æ–∑ –Ω–∞ –¥–µ–Ω—å
 * –û—Å–Ω–æ–≤–∞–Ω–æ –Ω–∞ –ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–æ–º –î–Ω–µ + –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ–º –î–Ω–µ
 */
export const getDailyHoroscope = (birthDate) => {
    const now = new Date();
    const year = now.getFullYear();
    const month = now.getMonth() + 1;
    const day = now.getDate();
    const dateStr = `${year}-${String(month).padStart(2, '0')}-${String(day).padStart(2, '0')}`;

    const personalDay = calculatePersonalDay(birthDate, dateStr);
    const universalDay = reduceToSingle(year + month + day);

    const dayMeaning = getPersonalCycleMeaning(personalDay);

    // –î–µ—Ç–∞–ª—å–Ω—ã–π –ø—Ä–æ–≥–Ω–æ–∑
    const forecasts = {
        1: {
            morning: "–≠–Ω–µ—Ä–≥–∏—è –¥–ª—è –Ω–æ–≤—ã—Ö –Ω–∞—á–∏–Ω–∞–Ω–∏–π –Ω–∞ –ø–∏–∫–µ. –£—Ç—Ä–æ ‚Äî –ª—É—á—à–µ–µ –≤—Ä–µ–º—è –¥–ª—è –≤–∞–∂–Ω—ã—Ö —Ä–µ—à–µ–Ω–∏–π.",
            afternoon: "–ü—Ä–æ—è–≤–ª—è–π—Ç–µ –∏–Ω–∏—Ü–∏–∞—Ç–∏–≤—É –≤ —Ä–∞–±–æ—Ç–µ. –í–∞—à–∏ –∏–¥–µ–∏ –±—É–¥—É—Ç —É—Å–ª—ã—à–∞–Ω—ã.",
            evening: "–í—Ä–µ–º—è –¥–ª—è –ª–∏—á–Ω—ã—Ö —Ü–µ–ª–µ–π. –ù–µ –±–æ–π—Ç–µ—Å—å –±—ã—Ç—å —Å–æ–±–æ–π.",
            challenge: "–ò–∑–±–µ–≥–∞–π—Ç–µ –∞–≥—Ä–µ—Å—Å–∏–∏. –õ–∏–¥–µ—Ä—Å—Ç–≤–æ ‚Äî –Ω–µ –¥–æ–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ.",
            opportunity: "–ù–∞—á–Ω–∏—Ç–µ —Ç–æ, —á—Ç–æ –¥–∞–≤–Ω–æ –æ—Ç–∫–ª–∞–¥—ã–≤–∞–ª–∏."
        },
        2: {
            morning: "–ú—è–≥–∫–æ–µ –Ω–∞—á–∞–ª–æ –¥–Ω—è. –ù–µ —Ç–æ—Ä–æ–ø–∏—Ç–µ—Å—å, –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ—Å—å –Ω–∞ —Å–æ—Ç—Ä—É–¥–Ω–∏—á–µ—Å—Ç–≤–æ.",
            afternoon: "–ü–µ—Ä–µ–≥–æ–≤–æ—Ä—ã –∏ –ø–∞—Ä—Ç–Ω—ë—Ä—Å—Ç–≤–∞ –æ—Å–æ–±–µ–Ω–Ω–æ –±–ª–∞–≥–æ–ø—Ä–∏—è—Ç–Ω—ã.",
            evening: "–†–æ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –≤–µ—á–µ—Ä. –°–ª—É—à–∞–π—Ç–µ –±–ª–∏–∑–∫–∏—Ö.",
            challenge: "–ù–µ —Ç–µ—Ä—è–π—Ç–µ —Å–µ–±—è –≤ —É–≥–æ–¥—É –¥—Ä—É–≥–∏–º.",
            opportunity: "–£–∫—Ä–µ–ø–∏—Ç–µ –≤–∞–∂–Ω—ã–µ –æ—Ç–Ω–æ—à–µ–Ω–∏—è."
        },
        3: {
            morning: "–¢–≤–æ—Ä—á–µ—Å–∫–∞—è —ç–Ω–µ—Ä–≥–∏—è! –ó–∞–ø–∏—Å—ã–≤–∞–π—Ç–µ –∏–¥–µ–∏.",
            afternoon: "–û–±—â–µ–Ω–∏–µ –∏ —Å–∞–º–æ–≤—ã—Ä–∞–∂–µ–Ω–∏–µ –≤ —Ü–µ–Ω—Ç—Ä–µ. –ì–æ–≤–æ—Ä–∏—Ç–µ, –ø–∏—à–∏—Ç–µ, —Ç–≤–æ—Ä–∏—Ç–µ.",
            evening: "–°–æ—Ü–∏–∞–ª—å–Ω–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å. –í–µ—Å–µ–ª—å–µ –∏ —Ä–∞–¥–æ—Å—Ç—å.",
            challenge: "–ù–µ —Ä–∞–∑–±—Ä–∞—Å—ã–≤–∞–π—Ç–µ—Å—å. –°—Ñ–æ–∫—É—Å–∏—Ä—É–π—Ç–µ—Å—å –Ω–∞ –≥–ª–∞–≤–Ω–æ–º.",
            opportunity: "–í–∞—à–∏ —Å–ª–æ–≤–∞ –∏–º–µ—é—Ç —Å–∏–ª—É. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –µ—ë."
        },
        4: {
            morning: "–î–µ–Ω—å –¥–ª—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –∏ –ø–æ—Ä—è–¥–∫–∞. –°–æ—Å—Ç–∞–≤—å—Ç–µ –ø–ª–∞–Ω.",
            afternoon: "–†—É—Ç–∏–Ω–Ω–∞—è —Ä–∞–±–æ—Ç–∞ –ø—Ä–æ–¥–≤–∏–≥–∞–µ—Ç—Å—è —Ö–æ—Ä–æ—à–æ. –£–ø–æ—Ä—Å—Ç–≤–æ –æ–∫—É–ø–∏—Ç—Å—è.",
            evening: "–û—Ç–¥—ã—Ö –≤ —Å–ø–æ–∫–æ–π–Ω–æ–π –æ–±—Å—Ç–∞–Ω–æ–≤–∫–µ. –î–æ–º –∏ —É—é—Ç.",
            challenge: "–ù–µ –±—É–¥—å—Ç–µ —Å–ª–∏—à–∫–æ–º –∂—ë—Å—Ç–∫–∏–º –∫ —Å–µ–±–µ –∏ –¥—Ä—É–≥–∏–º.",
            opportunity: "–ó–∞–ª–æ–∂–∏—Ç–µ –æ—Å–Ω–æ–≤—É –¥–ª—è –±—É–¥—É—â–µ–≥–æ —É—Å–ø–µ—Ö–∞."
        },
        5: {
            morning: "–û–∂–∏–¥–∞–π—Ç–µ –Ω–µ–æ–∂–∏–¥–∞–Ω–Ω–æ—Å—Ç–µ–π! –ë—É–¥—å—Ç–µ –≥–∏–±–∫–∏–º–∏.",
            afternoon: "–ü–µ—Ä–µ–º–µ–Ω—ã –∏ –¥–≤–∏–∂–µ–Ω–∏–µ. –•–æ—Ä–æ—à–∏–π –¥–µ–Ω—å –¥–ª—è –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏–π.",
            evening: "–†–∞–∑–Ω–æ–æ–±—Ä–∞–∑–∏–µ –∏ –ø—Ä–∏–∫–ª—é—á–µ–Ω–∏—è. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –Ω–æ–≤–æ–µ.",
            challenge: "–ù–µ –ø—Ä–∏–Ω–∏–º–∞–π—Ç–µ –∏–º–ø—É–ª—å—Å–∏–≤–Ω—ã—Ö —Ä–µ—à–µ–Ω–∏–π.",
            opportunity: "–í—ã–π–¥–∏—Ç–µ –∏–∑ –∑–æ–Ω—ã –∫–æ–º—Ñ–æ—Ä—Ç–∞."
        },
        6: {
            morning: "–§–æ–∫—É—Å –Ω–∞ —Å–µ–º—å–µ –∏ –¥–æ–º–µ. –ó–∞–±–æ—Ç—å—Ç–µ—Å—å –æ –±–ª–∏–∑–∫–∏—Ö.",
            afternoon: "–ì–∞—Ä–º–æ–Ω–∏—è –≤ –æ—Ç–Ω–æ—à–µ–Ω–∏—è—Ö. –†–µ—à–∞–π—Ç–µ —Å–µ–º–µ–π–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã.",
            evening: "–£—é—Ç –∏ –∫—Ä–∞—Å–æ—Ç–∞. –°–æ–∑–¥–∞–π—Ç–µ –∞—Ç–º–æ—Å—Ñ–µ—Ä—É –ª—é–±–≤–∏.",
            challenge: "–ù–µ –∑–∞–±—ã–≤–∞–π—Ç–µ –æ —Å–≤–æ–∏—Ö –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç—è—Ö.",
            opportunity: "–£–∫—Ä–µ–ø–∏—Ç–µ —Å–µ–º–µ–π–Ω—ã–µ —É–∑—ã."
        },
        7: {
            morning: "–ò–Ω—Ç—Ä–æ—Å–ø–µ–∫—Ü–∏—è –∏ —Ä–∞–∑–º—ã—à–ª–µ–Ω–∏—è. –í—Ä–µ–º—è —Ç–∏—à–∏–Ω—ã.",
            afternoon: "–û–±—É—á–µ–Ω–∏–µ –∏ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è. –ò—â–∏—Ç–µ –≥–ª—É–±–∏–Ω–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã.",
            evening: "–ú–µ–¥–∏—Ç–∞—Ü–∏—è, —á—Ç–µ–Ω–∏–µ, –¥—É—Ö–æ–≤–Ω—ã–µ –ø—Ä–∞–∫—Ç–∏–∫–∏.",
            challenge: "–ù–µ –∏–∑–æ–ª–∏—Ä—É–π—Ç–µ—Å—å –ø–æ–ª–Ω–æ—Å—Ç—å—é.",
            opportunity: "–ü–æ–ª—É—á–∏—Ç–µ –≤–∞–∂–Ω–æ–µ –æ–∑–∞—Ä–µ–Ω–∏–µ."
        },
        8: {
            morning: "–ú–æ—â–Ω–∞—è —ç–Ω–µ—Ä–≥–∏—è –¥–ª—è –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π. –°—Ç–∞–≤—å—Ç–µ –≤—ã—Å–æ–∫–∏–µ —Ü–µ–ª–∏.",
            afternoon: "–ö–∞—Ä—å–µ—Ä–∞ –∏ —Ñ–∏–Ω–∞–Ω—Å—ã –≤ —Ñ–æ–∫—É—Å–µ. –ü—Ä–∏–Ω–∏–º–∞–π—Ç–µ —Ä–µ—à–µ–Ω–∏—è.",
            evening: "–ü–æ–¥–≤–µ–¥–µ–Ω–∏–µ –∏—Ç–æ–≥–æ–≤. –ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —É—Å–ø–µ—Ö–∞.",
            challenge: "–ù–µ –∂–µ—Ä—Ç–≤—É–π—Ç–µ –æ—Ç–Ω–æ—à–µ–Ω–∏—è–º–∏ —Ä–∞–¥–∏ —Ä–∞–±–æ—Ç—ã.",
            opportunity: "–ú–∞—Ç–µ—Ä–∏–∞–ª—å–Ω—ã–π –ø—Ä–æ—Ä—ã–≤ –≤–æ–∑–º–æ–∂–µ–Ω."
        },
        9: {
            morning: "–î–µ–Ω—å –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è. –ó–∞–∫—Ä–æ–π—Ç–µ –æ—Ç–∫—Ä—ã—Ç—ã–µ –≤–æ–ø—Ä–æ—Å—ã.",
            afternoon: "–ü–æ–º–æ—â—å –¥—Ä—É–≥–∏–º –ø—Ä–∏–Ω–æ—Å–∏—Ç —É–¥–æ–≤–ª–µ—Ç–≤–æ—Ä–µ–Ω–∏–µ.",
            evening: "–û—Ç–ø—É—Å–∫–∞–Ω–∏–µ –∏ –ø—Ä–æ—â–µ–Ω–∏–µ. –û—á–∏—â–µ–Ω–∏–µ.",
            challenge: "–ù–µ —Ü–µ–ø–ª—è–π—Ç–µ—Å—å –∑–∞ –ø—Ä–æ—à–ª–æ–µ.",
            opportunity: "–û—Å–≤–æ–±–æ–¥–∏—Ç–µ –º–µ—Å—Ç–æ –¥–ª—è –Ω–æ–≤–æ–≥–æ —Ü–∏–∫–ª–∞."
        }
    };

    const forecast = forecasts[personalDay] || forecasts[1];

    return {
        date: dateStr,
        personalDay,
        universalDay,
        theme: dayMeaning.title,
        energy: dayMeaning.energy,
        color: dayMeaning.color,
        ...forecast,
        luckyHours: getLuckyHours(personalDay),
        compatibility: getDayCompatibility(personalDay)
    };
};

const getLuckyHours = (personalDay) => {
    // –ë–ª–∞–≥–æ–ø—Ä–∏—è—Ç–Ω—ã–µ —á–∞—Å—ã –ø–æ –Ω—É–º–µ—Ä–æ–ª–æ–≥–∏–∏ (–∫–∞–∂–¥–æ–µ —á–∏—Å–ª–æ –∏–º–µ–µ—Ç —Å–≤–æ–∏ –ø–∏–∫–æ–≤—ã–µ —á–∞—Å—ã)
    const hours = {
        1: ["06:00-08:00", "12:00-14:00", "19:00-21:00"],
        2: ["07:00-09:00", "14:00-16:00", "20:00-22:00"],
        3: ["09:00-11:00", "15:00-17:00", "21:00-23:00"],
        4: ["06:00-08:00", "13:00-15:00", "18:00-20:00"],
        5: ["10:00-12:00", "14:00-16:00", "22:00-00:00"],
        6: ["08:00-10:00", "16:00-18:00", "20:00-22:00"],
        7: ["05:00-07:00", "11:00-13:00", "17:00-19:00"],
        8: ["07:00-09:00", "12:00-14:00", "18:00-20:00"],
        9: ["09:00-11:00", "15:00-17:00", "21:00-23:00"]
    };
    return hours[personalDay] || hours[1];
};

const getDayCompatibility = (personalDay) => {
    // –° –∫–µ–º –ª—É—á—à–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å –≤ —ç—Ç–æ—Ç –¥–µ–Ω—å
    const compatible = {
        1: [1, 3, 5, 9],
        2: [2, 4, 6, 8],
        3: [1, 3, 6, 9],
        4: [2, 4, 6, 8],
        5: [1, 3, 5, 7],
        6: [2, 3, 6, 9],
        7: [4, 5, 7],
        8: [2, 4, 6, 8],
        9: [1, 3, 6, 9]
    };
    return compatible[personalDay] || [1, 5, 9];
};

// ==================== –ì–û–†–û–°–ö–û–ü –ù–ê –ú–ï–°–Ø–¶ ====================

export const getMonthlyHoroscope = (birthDate) => {
    const now = new Date();
    const year = now.getFullYear();
    const month = now.getMonth() + 1;

    const personalMonth = calculatePersonalMonth(birthDate, year, month);
    const personalYear = calculatePersonalYear(birthDate, year);

    const monthMeaning = getPersonalCycleMeaning(personalMonth);
    const monthForecast = getMonthForecast(personalMonth, month);

    // –ö–ª—é—á–µ–≤—ã–µ –¥–Ω–∏ –º–µ—Å—è—Ü–∞
    const luckyDates = calculateLuckyDates(birthDate, year, month)
        .filter(d => d.rating >= 80)
        .slice(0, 5);

    const challengeDates = calculateLuckyDates(birthDate, year, month)
        .filter(d => d.rating < 55)
        .slice(0, 3);

    // –ù–µ–¥–µ–ª—å–Ω—ã–µ —Ä–∏—Ç–º—ã
    const weeks = [];
    const daysInMonth = new Date(year, month, 0).getDate();
    for (let w = 0; w < 4; w++) {
        const startDay = w * 7 + 1;
        const endDay = Math.min((w + 1) * 7, daysInMonth);
        weeks.push({
            week: w + 1,
            period: `${startDay}-${endDay}`,
            focus: getWeekFocus(personalMonth, w)
        });
    }

    return {
        year,
        month,
        monthName: new Date(year, month - 1, 1).toLocaleDateString('ru-RU', { month: 'long' }),
        personalMonth,
        personalYear,
        theme: monthMeaning.title,
        energy: monthMeaning.energy,
        color: monthMeaning.color,
        ...monthForecast,
        luckyDates,
        challengeDates,
        weeks,
        summary: generateMonthSummary(personalMonth, personalYear)
    };
};

const getWeekFocus = (personalMonth, weekIndex) => {
    const focuses = {
        1: ["–ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ", "–ó–∞–ø—É—Å–∫ –∏–Ω–∏—Ü–∏–∞—Ç–∏–≤", "–£–∫—Ä–µ–ø–ª–µ–Ω–∏–µ", "–ö–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞"],
        2: ["–ù–∞–±–ª—é–¥–µ–Ω–∏–µ", "–ü–∞—Ä—Ç–Ω—ë—Ä—Å—Ç–≤–∞", "–ü–µ—Ä–µ–≥–æ–≤–æ—Ä—ã", "–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è"],
        3: ["–í–¥–æ—Ö–Ω–æ–≤–µ–Ω–∏–µ", "–¢–≤–æ—Ä—á–µ—Å—Ç–≤–æ", "–ü—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–∏", "–†–∞–¥–æ—Å—Ç—å"],
        4: ["–û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è", "–£–ø–æ—Ä–Ω—ã–π —Ç—Ä—É–¥", "–°–∏—Å—Ç–µ–º–∞—Ç–∏–∑–∞—Ü–∏—è", "–ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ"],
        5: ["–ù–æ–≤–æ–µ", "–ü–µ—Ä–µ–º–µ–Ω—ã", "–ü—É—Ç–µ—à–µ—Å—Ç–≤–∏—è", "–ê–¥–∞–ø—Ç–∞—Ü–∏—è"],
        6: ["–°–µ–º—å—è", "–ì–∞—Ä–º–æ–Ω–∏—è", "–ö—Ä–∞—Å–æ—Ç–∞", "–°–ª—É–∂–µ–Ω–∏–µ"],
        7: ["–ê–Ω–∞–ª–∏–∑", "–†–∞–∑–º—ã—à–ª–µ–Ω–∏—è", "–û–±—É—á–µ–Ω–∏–µ", "–ò–Ω—Ç—É–∏—Ü–∏—è"],
        8: ["–¶–µ–ª–∏", "–§–∏–Ω–∞–Ω—Å—ã", "–†–µ–∑—É–ª—å—Ç–∞—Ç—ã", "–ü—Ä–∏–∑–Ω–∞–Ω–∏–µ"],
        9: ["–û—Ç–ø—É—Å–∫–∞–Ω–∏–µ", "–ü–æ–º–æ—â—å", "–ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ", "–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞"]
    };
    return focuses[personalMonth]?.[weekIndex] || "–†–∞–∑–≤–∏—Ç–∏–µ";
};

const generateMonthSummary = (personalMonth, personalYear) => {
    const summaries = {
        1: `–ú–µ—Å—è—Ü –Ω–æ–≤—ã—Ö –Ω–∞—á–∏–Ω–∞–Ω–∏–π –≤ –≥–æ–¥ ${personalYear}. –ü—Ä–æ—è–≤–∏—Ç–µ –∏–Ω–∏—Ü–∏–∞—Ç–∏–≤—É –∏ —Ä–µ—à–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å.`,
        2: `–ú–µ—Å—è—Ü –ø–∞—Ä—Ç–Ω—ë—Ä—Å—Ç–≤–∞. –†–∞–∑–≤–∏–≤–∞–π—Ç–µ –æ—Ç–Ω–æ—à–µ–Ω–∏—è –∏ –ø—Ä–∞–∫—Ç–∏–∫—É–π—Ç–µ —Ç–µ—Ä–ø–µ–Ω–∏–µ.`,
        3: `–¢–≤–æ—Ä—á–µ—Å–∫–∏–π –º–µ—Å—è—Ü! –í—ã—Ä–∞–∂–∞–π—Ç–µ —Å–µ–±—è –∏ –Ω–∞—Å–ª–∞–∂–¥–∞–π—Ç–µ—Å—å –æ–±—â–µ–Ω–∏–µ–º.`,
        4: `–ú–µ—Å—è—Ü —É–ø–æ—Ä–Ω–æ–≥–æ —Ç—Ä—É–¥–∞. –°–æ–∑–¥–∞–≤–∞–π—Ç–µ –æ—Å–Ω–æ–≤—É –¥–ª—è –±—É–¥—É—â–µ–≥–æ —É—Å–ø–µ—Ö–∞.`,
        5: `–ú–µ—Å—è—Ü –ø–µ—Ä–µ–º–µ–Ω –∏ —Å–≤–æ–±–æ–¥—ã. –ë—É–¥—å—Ç–µ –æ—Ç–∫—Ä—ã—Ç—ã –Ω–æ–≤–æ–º—É –æ–ø—ã—Ç—É.`,
        6: `–ú–µ—Å—è—Ü —Å–µ–º—å–∏ –∏ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏. –ó–∞–±–æ—Ç—å—Ç–µ—Å—å –æ –±–ª–∏–∑–∫–∏—Ö.`,
        7: `–ú–µ—Å—è—Ü —Å–∞–º–æ–ø–æ–∑–Ω–∞–Ω–∏—è. –ò—â–∏—Ç–µ –æ—Ç–≤–µ—Ç—ã –≤–Ω—É—Ç—Ä–∏ —Å–µ–±—è.`,
        8: `–ú–µ—Å—è—Ü –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π. –ü—Ä–æ—è–≤–∏—Ç–µ –∞–º–±–∏—Ü–∏–∏ –∏ –ª–∏–¥–µ—Ä—Å–∫–∏–µ –∫–∞—á–µ—Å—Ç–≤–∞.`,
        9: `–ú–µ—Å—è—Ü –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è. –ó–∞–∫—Ä–æ–π—Ç–µ —Å—Ç–∞—Ä—ã–µ —Ü–∏–∫–ª—ã —Å –±–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç—å—é.`
    };
    return summaries[personalMonth] || "–ú–µ—Å—è—Ü —Ä–∞–∑–≤–∏—Ç–∏—è –∏ —Ä–æ—Å—Ç–∞.";
};
